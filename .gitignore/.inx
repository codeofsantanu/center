@using Kendo.Mvc.UI;
@model IEnumerable<KENCloudAdmin.Models.ViewModel.UserListViewModel>
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LayoutAdminLanding.cshtml";
}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>
<link href="~/Content/ClientUserManag.css" rel="stylesheet" />
<link href="~/Content/basic.css" rel="stylesheet" />

@*//////////// srt  User Listview Toolbar*@


<style>
    .k-block, .k-draghandle, .k-inline-block, .k-widget {
        border: none;
        -webkit-appearance: none;
    }

    .k-button.k-button-icontext .k-icon, .k-button.k-button-icontext .k-image {
        font-size: 9px;
    }

    .new-user-frm .col-md-4 {
        padding: 0px;
    }

    .new-user-frm .col-md-8 {
        padding: 0px;
    }

    .new-user-frm .k-invalid-msg {
        box-shadow: none;
        padding: 0px;
    }

    .loader {
        position: relative;
    }

        .loader img {
            position: absolute;
            z-index: 999999;
            top: 240px;
            right: 49%;
            height: 78px;
        }

    .loaderAddPopUp {
        position: relative;
    }

        .loaderAddPopUp img {
            position: fixed;
            z-index: 1000059;
            top: 261px;
            right: 12%;
            height: 61px;
        }

    #addMobile_validationMessage {
        margin-left: -60px;
    }

    .k-modal-overlay {
        position: fixed;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7);
        text-align: center;
        z-index: 9999;
    }

        .k-modal-overlay img {
            margin-top: 23%;
            width: 44px;
        }

    #Addbtn {
        border: none;
        color: #079af5;
    }

        #Addbtn:hover {
            background: none;
            color: #079af5;
        }

        #Addbtn:focus {
            background: none;
            color: #079af5;
            border: none !important;
        }

        #Addbtn.k-state-focused {
            background: none;
            color: #079af5;
            border: none !important;
            box-shadow: none;
        }

    #allProducts .list {
        font-family: 'Segoe ui';
    }

    .list {
        margin-left: 15px !important;
        margin-bottom: 2px !important;
    }
</style>
<div class="loader">
    <img src="~/Images/spinning-loading-bar.gif" />
</div>
@*@Html.AntiForgeryToken()*@
<div class="row top-nav">
    <div class="col-md-12 col-sm-12 col-xs-12" style="">
        <span><a href="#"> Home </a></span>
        <span class="top-nav-icon" style=""> &gt; </span>
        <span><a href="#"> Users </a></span>
        <span class="top-nav-icon" style=""> &gt; </span>
        <span><a href="#" class="active"> Active Users </a></span>
    </div>
</div>
<div class="row" style="margin-top: 20px;">
    <div class="col-lg-7 col-md-7 col-sm-7">
        <a href="#" onclick="openadduser()" id="Addbtn" class="topbar-add-btn" style="text-decoration:none;"><i class="fa fa-plus"></i> Add User</a>
        @*<span>
                    @(Html.Kendo().Button()
            .Name("")
             .SpriteCssClass("k-icon fa fa-plus")
             .Content("")
             .Events(e => e.Click(""))
             .HtmlAttributes(new { style = "width:15% ;height: 27px;font-size:13px;", type = "button" }))
                </span>*@
        @*<span class="vl"></span>*@
        <span>
            @( Html.Kendo().DropDownList()
               .Name("ActionDropdown")
               .DataTextField("Text")
               .DataValueField("Value")
                // .BindTo(Model)
                .HtmlAttributes(new { style = "height: 27px;font-size:13px;" })
                // .HtmlAttributes(new { style = "width:10%; border-color: #e40e0e !important", })
                .Events(e => e.Select("onChangeActionDropdown"))
               .OptionLabel("More Action")
               .BindTo(new List<SelectListItem>() {
              //new SelectListItem() {
              //    Text =  "Deactivate",
              //    Value = "1"

              //},
               new SelectListItem() {
                  Text = "Reset Password",
                  Value = "2"
              },
              new SelectListItem() {
                  Text = "Refresh",
                  Value = "3"
              },

               new SelectListItem() {
                  Text = "Import Multiple User",
                  Value = "4"
              },
              // new SelectListItem() {
              //    Text = " Block Sign in",
              //    Value = "5"
              //},
                new SelectListItem() {
                  Text = " Export",
                  Value = "6"
              }
          })
          .Template("<img  src='/Images/Dropdownimage/MoreAction/" + "${Value}.png' width='15' height='15' />" + "<span style='margin-left: 5px;'>${Text}</span>"))
        </span>

        @*<span class="vl"></span>*@
        <span style="padding-left:5px">
            @( Html.Kendo().DropDownList()
               .Name("kdropdownlist1")
               .DataTextField("Text")
               .DataValueField("Value")
                    // .BindTo(Model)
                    .HtmlAttributes(new { style = "width:20%;height: 27px;font-size:13px;" })
                .Events(e => e.Select("onChangeViewDropdown"))
               .OptionLabel("View")
               .BindTo(new List<SelectListItem>() {
               new SelectListItem() {
                  Text = "Detail View",
                  Value = "1"
              },
              new SelectListItem() {
                  Text = "Card View",
                  Value = "2"
              },  })
              .Template("<img  src='/Images/Dropdownimage/ViewDetails/" + "${Value}.png' width='15' height='15' />" + "<span style='margin-left: 5px;'>${Text}</span>"))
        </span>
        @*<span class="vl"></span>*@
        <span style="padding-left:5px;">
            @(Html.Kendo().DropDownList().Name("VIEW11")
          .DataTextField("Text")
          .DataValueField("Value")
          //.Events(e => e.Change("onChangeOnLoad"))
          .Events(e => e.Select("onChange"))
          .OptionLabel("Filter")
          .HtmlAttributes(new { style = "height: 27px;font-size:13px;" })
          .OptionLabelTemplate("<span class='k-icon k-i-filter colored-icon'></span>&nbsp;&nbsp;Filter")
          .Template("")
          .BindTo(new List<SelectListItem>() {
              new SelectListItem() {
                  Text =  "All User",
                  Value = "0"
              },
               new SelectListItem() {
                  Text = "Active User",
                  Value = "1"
              },
              new SelectListItem() {
                  Text = "Deactivated User",
                  Value = "2"
              },

               new SelectListItem() {
                  Text = "Blocked Sign in User",
                  Value = "3"
              },
               new SelectListItem() {
                  Text = "Licensed User",
                  Value = "4"
              },
              new SelectListItem() {
                  Text = "Unlicensed User",
                  Value = "5"
              },
          })
            )
        </span>
        <input type="hidden" id="diffUser" name="user" value="0">
    </div>
    <div class="col-lg-1 col-md-1 col-sm-1"></div>
    <div class="col-lg-4 col-md-4 col-sm-1" style="text-align: right;">
        <span class="k-textbox k-space-right" style="width:80%;height: 27px;font-size:13px;">

            @Html.Kendo().TextBox().Name("textboxIconRight").HtmlAttributes(new { style = "height: 25px;font-size:13px;" })
            <a href="#" class="k-icon k-i-search">&nbsp;</a>
        </span>
        <input type="hidden" id="hiddenTextVal" name="user" value="0">
    </div>
</div>

<script type="text/javascript">
    history.pushState(null, null, location.href);
    window.onpopstate = function () {
        history.go(1);
    };


    $("#textboxIconRight").keyup(function () {
        debugger;
        if ($(this).val().length > 2) {
            $("#hiddenTextVal").val($("#textboxIconRight").val());
            var viewvalue = document.getElementById("diffView").value;
            if (viewvalue == "detail") {
                myFunction21();
            }
            else {
                myFunction31();
            }
        }
        else if ($(this).val().length == 0) {
            $("#hiddenTextVal").val("");
            var viewvalue = document.getElementById("diffView").value;
            if (viewvalue == "detail") {
                myFunction21();
            }
            else {
                myFunction31();
            }
        }

    });
    $(document).ready(function () {
        debugger;


        //$("#ember1033").hide();
        var dropdownlist = $("#kdropdownlist1").data("kendoDropDownList");
        var dropdownlist1 = $("#VIEW11").data("kendoDropDownList");
        // selects item if its text is equal to "test" using predicate function
        dropdownlist.select(1);
        // selects item if its text is equal to "test" using predicate function
        dropdownlist1.select(1);

    });
    //function onChangeOnLoad(e) {
    //    debugger;
    //    var huu = e.dataItem.value;
    //}
    //if ($(".ember1033").is(":visible")) {
    //    $('.ember1033').css('display', 'block');
    //}

    function onChangeViewDropdown(e) {
        // debugger;
        var values = e.dataItem.Value;

        if (values == 1) {
            document.getElementById("diffView").value = "detail";
            $('#txtaddr').val("");

            myFunction21();
        }

        else {
            document.getElementById("diffView").value = "card";
            $('#txtaddr').val("");

            myFunction31();
        }
    }

</script>
<style>
    .modal-content {
        border-left: 9px solid #007bff;
        width: 87%;
        padding-left: 8px;
    }

    .modal-header {
        padding: 2px 7px 0px 0px;
    }

    .modal-body {
        padding: 0px 5px 4px 0px;
    }
</style>
<input type="hidden" id="diffView" name="custId" value="detail">
<input type="hidden" id="UserType" name="custType" value="All User">
<div style="margin-top:10px"></div>
@*/////////// end User Listview Toolbar*@
@*Start Pop Ups*@
<style>
    #confirm {
        display: none;
        background-color: #fff;
        border: 1px solid #cccc;
        position: fixed;
        width: 321px;
        height: 86px;
        left: 50%;
        z-index: 10000;
        color:black;
        margin-left: -100px;
        margin-top: -40px;
        padding: 6px 8px 8px;
        box-sizing: border-box;
        text-align: center;
        box-shadow: 1px 2px 3px #ccc;
        border-left: 7px solid #0074cc;
    }

        #confirm:hover {
            background-color: #fff !important;
        }
       #confirm .k-button:hover{
           background-color:white !important;
           background-image: url(textures/highlight.png)!important;
       }

        #confirm button {
            background-color: #0074cc;
            border: none;
            width: 53px;
            height: 21px;
            padding: 0px 12px;
            text-align: center;
            cursor: pointer;
            color: #fff;
            font-size: 15px;
            margin-top: 28px;
            float: right;
        }

    .yes {
        padding: 0px 4px 0px 4px;
        cursor: pointer;
        font-weight: 500;
        float: right;
    }

        .yes:hover {
            background: #ccc;
        }

    .message {
        margin-top: 19px;
        width: 100%;
    }

        .message .fa-check-circle {
            font-size: 44px;
            color: #56ce56;
            padding: 9px 6px;
            float: left;
        }

        .message span {
            float: left;
            margin-top: 0px;
            font-size: 16px;
            font-family: calibri;
        }
</style>
<div id="confirm">
    <span class="yes">X</span>
    <div class="message">
        <span>Please select user to do action</span>
    </div>
    <button class="yes1">Ok</button>
</div>
<script>
    function functionAlert(msg, myYes) {
        debugger;
        var confirmBox = $("#confirm");
        confirmBox.find(".message").text(msg);
        confirmBox.find(".yes,.yes1").unbind().click(function () {
            confirmBox.fadeOut(100);
        });
        confirmBox.find(".yes,.yes1").click(myYes);
        confirmBox.fadeIn(100);
        confirmBox.removeClass("k-button");
    }
    //$("#confirm").on('blur', function () {
    //    $(this).fadeOut(300);
    //});
    $("#confirm").focusout(function () {
        $(this).fadeOut(100);
    })

</script>


<div class="overlay-clos">

</div>

@*End Pop Ups*@



@*santanu srt*@
@*-----------------Start of Grid view------------------ *@
<style>
    .k-listview:after {
        content: ".";
        display: block;
        height: 0;
        clear: both;
        visibility: hidden;
    }

    .card:hover {
        background-color: #f0e9cb;
        cursor: pointer;
    }
</style>
<script type="text/javascript">
    $(window).load(function () {

        myFunction21();
        debugger;
        //var ddlvalue = $("#VIEW11").data("kendoDropDownList");
        ////ddlvalue.select(0);
        ////ddlvalue.trigger("onChange");
        //ddlvalue.value(2);

        // ddlvalue.trigger("onChange")
    })

    function onChangeActionDropdown(e) {
        debugger;
        var viewvalue = document.getElementById("diffView").value;
        var check = [];
        var val = [];
        if (e.dataItem.Value == 1 || e.dataItem.Value == 2 || e.dataItem.Value == 5 || e.dataItem.Value == 7 || e.dataItem.Value == 8) {
            $('input:checkbox:checked').each(function (i) {
                check.push($(this).val());
            });
            debugger;
            //if (check.length > 0 && check != []) {
            if (typeof check != "undefined" && check != null && check[0] != "" && check.length != null && check.length > 0) {
                debugger;
                document.getElementById("clickval").value = check;
                if (e.dataItem.Value == 1) {
                    $("#DeactivemultiUser").show();
                    document.getElementById("innerMulDeactiv").innerHTML = "";
                    ShowDetails();

                    //$("#innermulpasword").append(coun);
                    //$(".overlay-clos").show();
                    // DeactivateNow();

                    //var dropdownlist = $("#ActionDropdown").data("kendoDropDownList");
                    //dropdownlist.refresh();

                }
                else if (e.dataItem.Value == 2) {
                    ResetPswddlclick();
                }

                else if (e.dataItem.Value == 5) {
                    $("#BlockSignInmultiUser").show();
                    $("#DeactivemultiUser").hide();
                    document.getElementById("innerMulSignIn").innerHTML = "";
                    ShowBlockSignIn();

                }
                else if (e.dataItem.Value == 7) {

                    $("#ActivemultiUser").show();

                    document.getElementById("innerMulActive").innerHTML = "";
                    ShowActive();
                    //$("#ActiveUserDiv").show();
                    //$(".overlay-clos").show();
                }
                else if (e.dataItem.Value == 8) {
                    //$("#UnblockUserDiv").show();
                    //$(".overlay-clos").show();

                    $("#UnlockSignInUser").show();

                    document.getElementById("innerUnblockSignIn").innerHTML = "";
                    ShowUnblockSignIn();
                }

            }
            else {
                // $("#myModal").show();
                //alert("Please Select the user for action.")
                functionAlert();
                $('.yes1').focus();
            }
        }
        else if (e.dataItem.Value == 3) {
            // debugger;
            var viewvalue = document.getElementById("diffView").value;
            if (viewvalue == "detail") {
                myFunction21();
            }
            else {
                myFunction31();
            }

        }





    }
    $(document).mouseup(function (e) {
        var subject = $("#abc123");

        if (e.target.id != subject.attr('id')) {
            $(".div123").fadeOut().delay();
        }

    })
    function GetStatus(value) {
        if (value == "True") {
            return "Active ";
        }
        else {
            return "Inactive";
        }

    }

    var ddlitem;
    function onChange(e) {
        debugger;


        var tid = 1;
        var huu = e.dataItem.Value;
        //var UserType = e.dataItem.Text;
        document.getElementById("UserType").value = e.dataItem.Text;
        UserType
        if (huu == 2) {
            $("#ActionDropdown").data("kendoDropDownList").dataSource.read();
            $("#ActionDropdown").data("kendoDropDownList").dataSource.add({ Text: "Activate User", Value: 7 });
            var oldData = $("#ActionDropdown").data("kendoDropDownList").dataSource.data();
            //$("#ActionDropdown").data("kendoDropDownList").dataSource.remove(oldData[0]);
            //$("#ActionDropdown").data("kendoDropDownList").dataSource.remove(oldData[0]);
            //$("#ActionDropdown").data("kendoDropDownList").dataSource.remove(oldData[2]);
            //checkoffid
            $("#checkoffid").hide();
            //$("#liSingleDeactivate").hide();
            //$("#liSingleActivate").show();
            //$("#liSingleResetUser").hide();
            //$("#liSingleEditUser").hide();
            //var va = $("#ActionDropdown").data("kendoDropDownList");
            // liSingleDeactivate liSingleActivate
        }
        else if (huu == 3) {
            $("#ActionDropdown").data("kendoDropDownList").dataSource.read();
            var oldData = $("#ActionDropdown").data("kendoDropDownList").dataSource.data();
            //$("#ActionDropdown").data("kendoDropDownList").dataSource.remove(oldData[0]);
            //$("#ActionDropdown").data("kendoDropDownList").dataSource.remove(oldData[0]);
            //$("#ActionDropdown").data("kendoDropDownList").dataSource.remove(oldData[2]);
            $("#ActionDropdown").data("kendoDropDownList").dataSource.add({ Text: "Unblock User", Value: 5 });
            $("#checkoffid").show();
            //$("#liSingleDeactivate").show();
            // $("#liSingleActivate").show();
            //$("#liSingleResetUser").show();
            //$("#liSingleEditUser").show();
        }
        else if (huu == 1) {
            $("#ActionDropdown").data("kendoDropDownList").dataSource.read();
            var oldData = $("#ActionDropdown").data("kendoDropDownList").dataSource.data();
            //$("#ActionDropdown").data("kendoDropDownList").dataSource.remove(oldData[0]);
            //$("#ActionDropdown").data("kendoDropDownList").dataSource.remove(oldData[4]);
            $("#ActionDropdown").data("kendoDropDownList").dataSource.add({ Text: "Deactivate User", Value: 1 });
            // $("#liSingleDeactivate").show();
            //$("#liSingleActivate").show();
            //$("#liSingleResetUser").show();
            //$("#liSingleEditUser").show();
            //$("#liSingleActivate").show();
            //$("#liSingleDeactivate").hide();
        }
            //else if (huu == 0) {
            //    $("#ActionDropdown").data("kendoDropDownList").dataSource.remove(oldData[4]);
            //                                       //$("#liSingleDeactivate").hide();
            //                                       //$("#liSingleActivate").hide();
            //                                       //$("#liSingleResetUser").show();

            //}
        else {
            $("#ActionDropdown").data("kendoDropDownList").dataSource.read();
            $("#checkoffid").show();
        }
        document.getElementById("diffUser").value = huu;
        var viewvalue = document.getElementById("diffView").value;
        if (viewvalue == "detail") {
            myFunction21();

        }
        else {

            myFunction31();

        }
    };

</script>
@*-----------------End of Grid view------------------ *@


@*-----------------Start of Listview------------------ *@
<script type="text/javascript">
    function myFunction21() {
        debugger;
        $(".overlay-clos").show();
        $(".loader").show();

        var srchVal = null;
        $('.chklistview').prop('checked', false);
        $('.chklist').prop('checked', false);
        var val1 = document.getElementById("diffUser").value
        document.getElementById("diffView").value = "detail";
        var srchVal = null;
        if ($('#hiddenTextVal').val() == "") {
            srchVal = "";
        }
        else {
            srchVal = $('#hiddenTextVal').val();
        }
        $("#listHs1").show();
        $("#listHs2").hide();
        //debugger;
        $.ajax({
            type: "POST",
            url: "/UserList/BindGrid",
            data: { 'parentid': val1, 'searchval': srchVal },
            dataType: "json",
            contentType: 'application/x-www-form-urlencoded; charset=UTF-8',

            success: function (data1) {
                $(".loader").hide();
                $(".overlay-clos").hide();

                debugger;
                var dataSource = new kendo.data.DataSource({
                    data: data1.Data,


                    //, pageSize: 10
                });
                //$("#pager1").kendoPager({
                //    dataSource: dataSource
                //});
                $("#listView11").kendoListView({
                    dataSource: dataSource,
                    template: kendo.template($("#template11").html()),

                });

            },
            failure: function (data1) {
                debugger;
                $(".loader").hide();
                $(".overlay-clos").hide();
                // template: kendo.template($("#template111").html())
            },

            error: function (data1) {
                debugger;
                $(".loader").hide();
                $(".overlay-clos").hide();
                // template: kendo.template($("#template111").html())
            }
        });
    };

</script>


<div class="demo-section k-content wide" id="listHs1">
    <div id="listView11"></div>
    @*<div id="pager1" class="k-pager-wrap"></div>*@
</div>
<script type="text/x-kendo-tmpl" id="template11">
    <div class="listView1" id="list121">
        <div class="xxx" style="width:99.5%">
            <div class="col-md-12" style="margin-top: 10px;padding:0;" id="listviewdesign" ondblclick="ViewDetailsCard(this)">
                <div class="col-md-1 col-sm-3" style="padding-right: 0px;">
                    # if (Is_Cleint_Super_Admin == true) {#
                    <input type="checkbox" class="chklistview" data-target=#:Is_Cleint_Super_Admin# id="#:User_EmailId#" value="#:User_RegistrationId#" @*onchange="onchange_checkbox()"*@ disabled />
                    #}else{#
                    <input type="checkbox" class="chklistview" data-target=#:Is_Cleint_Super_Admin# id="#:User_EmailId#" value="#:User_RegistrationId#" @*onchange="onchange_checkbox()"*@ />

                    #}#
                    <img alt="ss" class="listImgStyle" src="#:Uplaod_ImageURL#" />
                </div>
                <div class="col-md-2 col-sm-4" style="text-align:left;margin-top:10px;width:15%;">
                    <span class="userfont" style="font-size:13px; font-weight:lighter">#:User_First_Name#&nbsp; #:User_Last_Name#</span><br />
                    <span class="userfont">#:designati#</span><br />
                    <span class="userfont">Created on #=kendo.toString(kendo.parseDate(InsertedOn),'d MMM yyyy')#</span>
                </div>
                <div class="col-md-3 col-sm-3" style="text-align:left;margin-left: 0px;margin-top:10px;padding-right: 0;padding-left: 0;width:16%;    ">
                    <i class="fa fa-envelope-o faicon" style="color:cornflowerblue"></i>&nbsp;<span class="userfont" style="">#:User_EmailId#</span><br />        @*<div class="clearfix5"></div>*@
                    <i class="fa fa-phone ii" style="font-size:9px; color:cornflowerblue; margin-top:5px;"></i>&nbsp;<span class="userfont" margin-top:5px;">#:User_MobileNo#</span>
                </div>
                <div class="col-md-3 col-sm-12" style="text-align:left;margin-left: 0px;padding-right: 0;padding-left:30px;width:21%;">
                    <span class="listSpan"> First access to site</span><br />

                    # if (FirstAccess == null) {#
                    <span class="userfont">Till Not Logged In</span><br />
                    #}else{#
                    <span class="userfont">
                        #=kendo.toString(kendo.parseDate(FirstAccess),'ddd dd MMM yyyy')# &nbsp; (#:GapFirstDate#)
                    </span><br />
                    #}#

                    <span class="listSpan"> Last access to site</span><br />

                    # if (LastAccess == null) {#
                    <span class="userfont">Till Not Logged In</span><br />
                    #}else{#
                    <span class="userfont">
                        #=kendo.toString(kendo.parseDate(LastAccess),'ddd dd MMM yyyy')# &nbsp; (#:GapLastDate#)
                    </span><br />
                    #}#

                </div>
                <div class="col-md-1 col-sm-4 userfont" style="text-align:left;margin-top:15px;padding-right: 0;width:15%;">
                    # if (IsUserNoAdminstratorAccess == true) {#
                    <Span>No admin</Span><br />
                    #}else{if(IsGlobalAdminStrator == true) {#
                    <span>Global Admin</span><br />
                    #}else{if(IsCustomizedAdminStrator == true){#
                    <span>Customized Admin</span><br />
                    #}}}#

                    @* # if (IsUserNoAdminstratorAccess == true) {#
                        <Span>No admin</Span><br />
                        #}else{if(IsGlobalAdminStrator == true) {#
                        <span>Global Admin</span><br />
                        #}else{if(IsCustomizedAdminStrator == true){if(Check_IsBillingAdmin == true){#
                        <span>Billing Admin</span><br />
                        #}if(Check_IsPasswordAdmin == true){#
                        <span>Password Admin</span><br />
                        #}if(Check_ServiceAdmin == true) {#
                        <span>Service Admin</span><br />
                        #}if(Check_UserManagementAdmin == true) {#
                        <span>User Mgmt Admin</span><br />
                        #}}}}#*@

                </div>
                <div class="col-md-2 col-sm-4" style="text-align:left;margin-top:15px;padding-left: 0;padding-right: 0;width:15%;">
                    # if (availabilityStatus == 'yes') {#
                    <i class="fa fa-check-circle fa-2x" style="font-size:1.3em; color:limegreen; margin-right:5px; float:left;"></i><span class="userfont">Available</span>
                    #}else{#
                    <i class="fa fa-minus-circle fa-2x" style="font-size:1.3em; color:red; margin-right:5px; float:left;"></i><span class="userfont">Unavailable</span>
                    #}#
                </div>

            </div>
        </div>
    </div>

</script>
<script type="text/x-kendo-tmpl" id="template111">
    <div>No data is present</div>
</script>

<script>

    //-----------Start Function for Card View----------------
    function menulistCardview(e) {
        debugger;
        var listview1 = $("#listView12").data("kendoListView")
        var item = $(e).closest("[role='option']");
        var data = listview1.dataSource.getByUid(item.data("uid"));
        if (data.Is_Cleint_Super_Admin == true) {

            $(".menulistcard1").appendTo($(e).closest("[id='list2']")).fadeIn();//.delay();
            $("#liDeactive").hide();
            $("#liBlocksignIn").hide();
        }
        else {
            $(".menulistcard1").appendTo($(e).closest("[id='list2']")).fadeIn();//.delay();
            $("#liDeactive").show();
            $("#liBlocksignIn").show();
        }
    }

    $(document).mouseup(function (e) {
        var subject = $("#menulistCardview");

        if (e.target.id != subject.attr('id')) {
            // debugger;
            $(".menulistcard1").fadeOut();
        }
    })

    //----------End Function for Card View----------------
</script>

@*-----------------End of Listview------------------ *@

@*-----------------Start of Card view------------------ *@
<script>
    function myFunction31() {
        debugger;
        $(".overlay-clos").show();
        $(".loader").show();
        //var srchVal = "";
        // debugger;
        $('.chklistview').prop('checked', false);
        $('.chklist').prop('checked', false);
        var val1 = document.getElementById("diffUser").value
        document.getElementById("diffView").value = "card";
        //var g1 = $("#VIEW11").data("kendoDropDownList");
        //var val1 = g1.value();
        //if ($('#hiddenTextVal').val() == "") {
        //    srchVal = "";
        //}
        //else {
        //    srchVal = $('#hiddenTextVal').val("");
        //}

        $("#listHs2").show();
        $("#listHs1").hide();
        // debugger;
        $.ajax({
            type: "POST",
            url: "/UserList/BindGrid",
            data: { 'parentid': val1, 'searchval': $('#hiddenTextVal').val() },
            dataType: "json",
            contentType: 'application/x-www-form-urlencoded; charset=UTF-8',
            success: function (data1) {
                $(".loader").hide();
                $(".overlay-clos").hide();
                // debugger;
                var dataSource = new kendo.data.DataSource({
                    data: data1.Data,
                    // pageSize: 10,
                });
                //$("#pager2").kendoPager({
                //    dataSource: dataSource
                //});
                $("#listView12").kendoListView({
                    dataSource: dataSource,
                    template: kendo.template($("#template12").html()),

                });
            },
            error: function () {

            }
        });
    };

</script>
<script>
    $('#list2').hover(function () {
        // debugger;
        $('.upperBorder').css('border', '1px solid #cc9d16');
    })
</script>
<div class="demo-section k-content wide" id="listHs2">
    <div id="listView12"></div>
    @*<div id="pager2" class="k-pager-wrap"></div>*@
</div>
<script type="text/x-kendo-tmpl" id="template12">
    <div class="listView2" id="list23">
        <div class="product k-content">
            <div class="col-lg-2 col-md-2 col-sm-2 card" id="list2" style="height:180px;padding-top: 0px;margin-left: 10px;margin-bottom:0px;margin-top: 7px; width:14.5%;">
                <div class="upperBorder" style="position: absolute;padding: 0; width: 98%;margin:1px;margin-left: -5px;"></div>
                <!-- <hr  style="margin-top: 0;margin: 0;"/>-->
                <div class="row">
                    <div class="col-lg-12 col-md-12 " style="padding:0;">

                        <div style="position: relative;">
                            <div class="cardPosLeftTop" style="top:5px;">
                                # if (Is_Cleint_Super_Admin == true) {#
                                <input type="checkbox" id="#:User_EmailId#" value="#:User_RegistrationId#" style="margin-top: 0px;" class="chklist" disabled />
                                #}else{#
                                <input type="checkbox" id="#:User_EmailId#" value="#:User_RegistrationId#" style="margin-top: 0px;" class="chklist" />
                                #}#
                            </div>
                            <div class="cardPosRightTop">
                                <div style="pointer-events:auto;">
                                    @*<div class="det-contact" id="thh" onclick="menulistCardview(this)" style="margin-left: 95px;"><i class="fa fa-ellipsis-v" style="color:black"></i></div>*@
                                    <div class="det-contact" id="thh" onclick="menulistCardview(this)" style="margin-left: 73px;"><i class="fa fa-ellipsis-v" style="color:black;padding: 0px 15px;"></i></div>
                                </div>
                            </div>
                        </div>
                        <img id="clippy1" src="#:Uplaod_ImageURL#" /><br /><i id="checkoffid" class="fa fa-check-circle cardCheckCircle"></i>&nbsp;&nbsp;
                        <span class="cardUName" style="font-size:14px;">#:User_First_Name#&nbsp; #:User_Last_Name#</span>
                        <br />
                        <span class="cardUserDesig">#:designati#</span>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12 col-md-12" style="padding:0;margin-top: 10px;">



                        <i class="fa fa-envelope-o faicon" style="margin-bottom:5px;" aria-hidden="true"></i>&nbsp;
                        <span class="icons" style="font-size: 10px;margin-left: 2px;word-break: break-word;position: absolute;">#:User_EmailId#</span>
                        <br />

                        <i class="fa fa-phone ii" style="font-size:7px; "></i>&nbsp;
                        <span class="icons" style="font-size: 10px;margin-left: 2px;">#:User_MobileNo#</span>
                        <br />
                        <i class="fa fa-comment-o faicon" style="margin-bottom:5px;" aria-hidden="true"></i>&nbsp;
                        <span class="icons" style="font-size: 10px;margin-left: 2px;"><i>Click to msg #:User_DisplayName#</i></span>
                        <br />
                        <i class="fa fa-globe" style="margin-bottom:5px;"></i>&nbsp;
                        <span class="icons" style="margin-left: 2px;color: dodgerblue; font-size:10px;"><a><u>#:Tanent_Name#</u></a></span>

                    </div>

                </div>


                <div class="row">
                    <div class="col-lg-12 col-md-12" style="padding:0;margin-top:10px;">

                        <i class="fa fa-key fa-flip-horizontal" style="font-size:10px;"></i>
                        <span style="float:right;font-size: 10px;color: dodgerblue">#=kendo.toString(kendo.parseDate(InsertedOn),'g')#</span>

                    </div>
                </div>

            </div>
        </div>
    </div>
</script>


<div class="">
    <ul id="menulistcardd1" class="menulistcard1" style="display:none;font-size:14px;">

        <li class="listsicon">&nbsp;&nbsp;&nbsp;<span class='k-icon k-i-eye' title='ViewDetails'></span>&nbsp;&nbsp;<a href="#" id="viewdtls" onclick="ViewDetailsCard(this)"> View Details</a></li>
        <li id="liDeactive" class="listsicon">&nbsp;&nbsp;&nbsp;<span class='k-icon k-i-cancel' title='Edit'></span>&nbsp;&nbsp;<a href="javascript:void(0)" onclick="DeactivateCard(this)">Deactivate User</a></li>
        @*<li id="liActive" style="display:none;" class="listsicon">&nbsp;&nbsp;&nbsp;<span class='k-icon k-i-cancel' title='Edit'></span>&nbsp;&nbsp;<a href="javascript:void(0)" onclick="ActivateCard(this)">Activate User</a></li>*@
        <li id="liResetPwd" class="listsicon">&nbsp;&nbsp;&nbsp;<span class='k-icon k-i-wrench' title='Edit'></span>&nbsp;&nbsp;<a href="javascript:void(0)" onclick="ResetPasswordCard(this)">Reset Password</a></li>
        <li id="liBlocksignIn" class="listsicon">&nbsp;&nbsp;&nbsp;<span class='k-icon k-i-user' title='BlockSignIn'></span>&nbsp;&nbsp;<a href="javascript:void(0)" onclick="Blockcard(this)">Block Sign in</a></li>
    </ul>
</div>
@*-----------------End of Card view------------------ *@
@*santanu end*@

@*Samiksha srt*@

<div id="multipleuser" class="flyout-sm  flyout ember-view cssdivclose" style="display:none">
    <div class="flyout-header" style="padding: 0px 0px;font-family:Calibri">
        <div class="mulUserHeader">
            <div style="width: 95%;margin-left: 10px;">
                <span>
                    <b style="font-size: 16px;font-weight: 500;">Import multiple user</b>
                </span>

                <span id="closemulti" onclick="closemultiuserclick()" class="userClose">
                    &#10006;
                </span>
            </div>
        </div>






        <div class="user-pro" id="userpro">

            <div id="multiuserdiv1" style="padding-top: 24px;display:block">
                <div class="img" style="margin-left: 20px;">
                    <i class="fa fa-circle fa-2x" style="margin-left: 53px;font-size:1.3em; color:cornflowerblue;"></i>
                    <i class="fa fa-circle fa-2x" style="margin-left: 96px;font-size:1.3em"></i>
                    <i class="fa fa-circle fa-2x" style="margin-left: 101px;font-size:1.3em"></i>
                </div>
                <div>
                    <p class="multiUserLabel" style="margin-left: 17px;">Create and upload the files</p>
                    <p class="multiUserLabel" style="margin-left: 17px;">Set user Options</p>
                    <p class="multiUserLabel" style="margin-left: 40px;">View results</p>
                </div>
                <div>
                    <p class="multiUserUpload" style="">Create and upload the file</p>
                </div>
                <div>
                    <p class="multiUserDLabel">Download the CSV files below,save the file,and add your users' information.Then you can come back here,upload the file and verify that you've got it filled out correctly.</p>
                </div>
                <div>
                    <i class="fa fa-download multiDLIcon"><a href="" class="multiUserDownloadA"><u>Download a CSV file with headers </u></a></i>
                </div>
                <div class="multiUserUploadCtrl">

                    @(Html.Kendo().Upload()
                        .Name("files")
                        .Multiple(true)
                    .HtmlAttributes(new { style = "width:300px;border-radius:4px;margin-left: 21px;" })

                    )


                </div>
                <div style="margin-top: 3px;">
                    <img style="display:inline-block;margin-left: 23px;" src="/images/warning.png" />
                    <p class="multiUserError">There are some errors in the file</p>
                </div>
                <div style="margin-top:5px;">
                    <i class="fa fa-download multiDLIcon"><a href="" class="multiUserDownloadA"><u>Download log file for details </u></a></i>
                </div>

                <div style="margin-top:229px; margin-left:224px">

                    @(Html.Kendo().Button()
        .Name("primaryTextButton1")
        .HtmlAttributes(new { type = "button", @class = "k-primary multiUserNext" })
        .Content("Next").Events(ev => ev.Click("next1")))
                    @(Html.Kendo().Button()
        .Name("textButton1")
        .HtmlAttributes(new { type = "button", @class = "k-primary multiUserCancel" })
        .Content("Cancel")
         .Events(e => e.Click("textButton1"))
                    )
                </div>

            </div>

            <div id="multiuserdiv2" style="padding-top: 24px;display:none;">
                <div class="img1" style="margin-left: 20px;">
                    <i class="fa fa-check-circle fa-2x" style="margin-left: 58px;font-size:1.3em; color:limegreen;"></i>
                    <i class="fa fa-circle fa-2x" style="margin-left: 96px;font-size:1.3em; color:cornflowerblue;"></i>
                    <i class="fa fa-circle fa-2x" style="margin-left: 101px;font-size:1.3em"></i>
                </div>
                <div>
                    <p class="multiUserLabel" style="margin-left: 22px;">Create and upload the files</p>
                    <p class="multiUserLabel" style="margin-left: 17px;">Set user Options</p>
                    <p class="multiUserLabel" style="margin-left: 40px;">View results</p>
                </div>
                <div>
                    <p class="MultiUserOption">Set user options</p>
                </div>
                <div>
                    <p style="font-size:13px;margin-left: 23px;">Choose how you want users to be imported by setting the sign in status that will be assigned to the users.</p>
                </div>
                <div>
                    <p style="font-size:14px;margin-left: 23px;">sign in status</p>
                </div>
                <div style="margin-left: 23px;">
                    <li style="list-style: none;font-size:9px;">
                        @(Html.Kendo()
                          .RadioButton().Name("engine1")
                         .Checked(true)
                          .HtmlAttributes(new { @name = "engine" })
                            .Label("sign-in Allowed"))
                    </li>
                    <li style="list-style: none;font-size:9px;">
                        @(Html.Kendo().RadioButton().Name("engine2").Checked(true).HtmlAttributes(new { @name = "engine" }).Label("sign-in Blocked"))
                    </li>
                </div>
                <div>
                    <p style="font-size:14px;margin-left:25px;margin-top: 7px;">
                        Assign Licenses
                    </p>
                </div>
                <div>
                    <ul class="hov">
                        <li style="list-style: none;">
                            <p class="list">KENResource Gold Edition</p>
                            <p class="list1">25 of 50 license availabe</p>
                        </li>
                        <li style="list-style: none;">
                            <p class="list">KENRelation Enterprise Edition</p>
                            <p class="list1">25 of 50 license availabe</p>
                        </li>
                        <li style="list-style: none;">
                            <p class="list">KENMoney Basic Edition</p>
                            <p class="list1">9 of 10 license availabe</p>
                        </li>
                    </ul>
                </div>
                <div style="margin-top: 20px;margin-left: 42px;">
                    <i class="fa fa-exclamation-circle fa-2x" style="font-size:1.3em;color:cornflowerblue;"></i>
                    <p style="color:cornflowerblue;margin-top: -26px;margin-left: 24px;font-size:11px;"> If you don't have sufficent product license,some users will be created without one.In the next step you can view which user still need product license to be assigned.</p>
                </div>

                <div style="margin-top:52px;margin-left: 219px;">

                    @(Html.Kendo().Button()
        .Name("primaryTextButton2")
        .HtmlAttributes(new { type = "button", @class = "k-primary multiUserNext" })
        .Content("Next").Events(ev => ev.Click("next2")))
                    @(Html.Kendo().Button()
        .Name("textButton2")
        .HtmlAttributes(new { type = "button", @class = "k-primary multiUserCancel" })
        .Content("Cancel")
        .Events(e => e.Click("textButton2"))
                    )
                </div>
            </div>
            <div id="multiuserdiv3" style="padding-top:24px;display:none;width: 385px;">
                <div class="img1" style="margin-left: 20px;">
                    <i class="fa fa-check-circle fa-2x" style="margin-left: 58px;font-size:1.3em; color:limegreen;"></i>
                    <i class="fa fa-check-circle fa-2x" style="margin-left: 96px;font-size:1.3em; color:limegreen;"></i>
                    <i class="fa fa-circle fa-2x" style="margin-left: 96px;font-size:1.3em; color:cornflowerblue;"></i>
                </div>
                <div>
                    <p class="multiUserLabel" style="margin-left: 22px;">Create and upload the files</p>
                    <p class="multiUserLabel" style="margin-left: 17px;">Set user Options</p>
                    <p class="multiUserLabel" style="margin-left: 40px;">View results</p>
                </div>
                <div>
                    <p style="font-size:14px;font-weight: 600;color: black;margin-left: 22px;">View your Results</p>
                </div>
                <div>
                    <p style="font-size:13px;font-weight:200;color:black;margin-left: 22px;">Here are your results report. You can email thems to others.</p>
                </div>
                <div class="row" style="margin-left: 13px;">
                    <div style="display: inline-block;margin-left: 14px;">
                        <i class="fa fa-check-circle fa-2x" style="font-size:1.3em; color:limegreen; display:inline-block"></i>
                        <span style="font-size: 13px;color: gray;display:inline-block">10 users created</span>
                    </div>
                    <div style="display:inline-block; margin-left: 96px;">
                        <i class="fa fa-download" style="color: deepskyblue;font-size:1.3em"><a href="" style="font-size:14px;color:blue;margin-left: 7px;"><u>Download results </u></a></i>
                    </div>
                </div>
                <div class="row" style="margin-left: 13px;">

                    <div style="margin-left: 15px; margin-top: 4px; display:inline-block;">
                        <img style="display:inline-block" src="/images/warning.png" />
                        <p style="display:inline-block;font-size:13px;">4 errors</p>
                    </div>
                    <div style="display:inline-block;">
                        <p style="color:red;font-size:13px; margin-left: 141px;">Existing users</p>
                    </div>

                </div>
                <div class="row" style="margin-left: 1px;">
                    <div style="margin-left: 29px; display:inline-block;margin-top: 2px;">
                        <input type="checkbox" class="chkdet" id="" value="" @*onchange="onchange_checkbox()"*@ />
                    </div>
                    <div style="display:inline-block;"><p style="font-size:13px;color:black;">Email the results to these people.</p></div>
                </div>
                <div>
                    <p style="font-size:13px;margin-left:30px;">Recipients</p>

                </div>

                <div>

                    @(Html.Kendo().TextBox()
                                .Name("txtemail")
                                .HtmlAttributes(new
                                {
                                    placeholder = "Enter the email address",
                                    required = "required",
                                    validationmessage = "*",
                                    maxlength = "50",
                                    style = "height: 29px; width:346px;font-size:12px;margin-left: 30px;",
                                    @class = "form-control col-xs-2"
                                })

                    )
                </div>
                <div>
                    <p style="font-size:11px;margin-left: 30px;">Email the password up to five recipients. Entered email addresses should be separated by a semicolon and must be a valid one.</p>
                </div>

                <div style="margin-top: 220px;margin-left: 220px;">

                    @(Html.Kendo().Button()
    .Name("primaryTextButton3")
    .HtmlAttributes(new { type = "button", @class = "k-primary multiUserNext" })
    .Content("Next")
    .Events(ev => ev.Click("next3")))
                    @(Html.Kendo().Button()
    .Name("textButton3")
    .HtmlAttributes(new { type = "button", @class = "k-primary multiUserCancel" })
    .Content("Cancel")
    .Events(e => e.Click("textButton3"))

                    )
                </div>
            </div>
        </div>
    </div>
</div>


<script>
    function next1() {
        var reset = document.getElementById("multiuserdiv1");
        reset.style.display = "none";
        var reset = document.getElementById("multiuserdiv2");
        reset.style.display = "block";
        var reset = document.getElementById("multiuserdiv3");
        reset.style.display = "none";
    }
    function next2() {
        var reset = document.getElementById("multiuserdiv1");
        reset.style.display = "none";
        var reset = document.getElementById("multiuserdiv2");
        reset.style.display = "none";
        var reset = document.getElementById("multiuserdiv3");
        reset.style.display = "block";
    }
    function next3() {
        //var reset = document.getElementById("multiuserdiv1");
        //reset.style.display = "none";
        //var reset = document.getElementById("multiuserdiv2");
        //reset.style.display = "none";
        //var reset = document.getElementById("multiuserdiv3");
        //reset.style.display = "block";
    }
    function textButton3() {
        var reset = document.getElementById("multiuserdiv1");
        reset.style.display = "none";
        var reset = document.getElementById("multiuserdiv2");
        reset.style.display = "block";
        var reset = document.getElementById("multiuserdiv3");
        reset.style.display = "none";
    }
    function textButton2() {
        var reset = document.getElementById("multiuserdiv1");
        reset.style.display = "block";
        var reset = document.getElementById("multiuserdiv2");
        reset.style.display = "none";
        var reset = document.getElementById("multiuserdiv3");
        reset.style.display = "none";
    }

    function textButton1() {
        var reset = document.getElementById("multipleuser");
        reset.style.display = "none";

    }


</script>
@*samiksha end*@


@*madhu srt*@
<div id="resetpassword" class="flyout-sm  flyout ember-view cssdivclose" style="display:none;">
    <div class="flyout-side aliceblue-bg">
        <div class="userpopupclass" style="width: 400px;">
            <span class="glyphicon glyphicon-remove" id="userCloseId" style="margin-left:375px;color:white; cursor:pointer;" onclick="closeresetpasswordclick()">
            </span>
            <div class="row">
                <div class="col-md-9 main for-padding" style="margin-top: -46px;">
                    <div class="col-md-2" style="padding: 1px 0px 0px 0px;">
                        <img alt="ss" src="" class="userAddImg">
                    </div>
                    <div class="col-md-10" style="padding: 4px 0px 0px 22px;">
                        <p class="userdetailname"></p>
                        <i class="fa fa-envelope-o" style="font-size:11px;color:#fff;"></i>
                        <span class="userAddName"></span>

                        @*<p class="userdetailname">Amiley Burrow</p>
                            <i class="fa fa-envelope-o faicon usermail" style="font-size:11px;"></i>
                            <span class="userAddName">amileyburrow45@dolna.co</span>*@
                    </div>
                </div>
            </div>
        </div>
        <div class="user-pro" id="resetPwdFirst" style="margin-top: 14px;">
            <div id="rpd1">
                <div>
                    <p style="font-family:Calibri;font-size:14px;margin-top: 18px;margin-left:20px;height: 32px;color:grey;margin-bottom:0;">Reset password</p>
                </div>
                <div>
                    <div style="margin-left: 18px;">
                        <li style="list-style: none;font-size:13px;font-family:Calibri;color:black">
                            @(Html.Kendo()
                          .RadioButton()
                          .Name("radio")
                          .Checked(true)
                          .HtmlAttributes(new { @name = "singlePwdRadio" })
                            .Label("Auto Generate The Password"))
                        </li>
                    </div>
                    <div class="row">
                        <div class="col-md-3" style="font-family:Calibri;font-size:13px;color:black;margin-left: 23px;margin-top: 8px;">
                            Password
                        </div>
                        <div class="col-md-6">
                            @(Html.Kendo().TextBox()
                            .Name("txtAutoPwd")
                            .HtmlAttributes(new
                            {
                                placeholder = "Auto generated",
                                required = "required",
                                validationmessage = "*",
                                maxlength = "50",
                                style = "height: 29px; width:210px;font-family:Calibri;font-size:12px;float: right;",
                                @class = "form-control col-xs-2"
                            })

                            )

                        </div>


                    </div>
                    <div style="margin-left: 18px; margin-top: 10px;">
                        <li style="list-style: none;font-size:13px;font-family:Calibri;color:black">
                            @(Html.Kendo()
                          .RadioButton()
                          .Name("radio2")

                          .Checked(false)
                          .HtmlAttributes(new { @name = "singlePwdRadio" })

                            .Label("Let me create the password"))

                        </li>
                    </div>
                </div>

                <div>
                    <div id="hideee" style="display:none">
                        <div class="row">
                            <div class="col-md-3" style="font-family:Calibri;font-size:13px;color:black;margin-left: 12px;margin-top: 8px;">
                                Password
                            </div>
                            <div class="col-md-6" style="margin-left: 31px;">
                                <div class="TextBoxDiv">
                                    @(Html.Kendo().TextBox().Name("txtPassword").HtmlAttributes(new
                                {
                                    required = "required",
                                    validationmessage = "Enter Password",
                                    minlength = "8",
                                    tabindex = "1",
                                    type = "password",
                                    pattern = "(?=.*)(?=.*[a-z])(?=.*[A-Z]).{8,}",
                                    style = "width:100%;margin-left:2px;"
                                    //title = "Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters",
                                })
                                    )
                                </div>
                                <span class="k-space-right" style="width:100%;">
                                    <a href="#" class="k-icon k-i-checkmark"
                                       style="display:none;background-color: greenyellow;border-radius: 50%;margin-right: 7px;margin-top: -19px;float: right;color: white;left: 0px;">&nbsp;</a>
                                    <a href="#" class="k-icon k-i-close" id="hideErrorMsg"
                                       style="display:none;margin-right: 7px;margin-top: -42px;float: right;color: red;left: 0px;">&nbsp;</a>

                                </span>
                                @*Password Validations Divisions Start*@

                                <div id="message">
                                    <h6 style="margin-top: 10px;">Password must contain the following:</h6>
                                    <p id="letter" style="height: 3px;" class="invalid">at least 1 lowercase</p>
                                    <p id="capital" style="height: 3px;" class="invalid">at least 1 uppercase</p>
                                    <p id="number" style="height: 3px;" class="invalid">at least 1 number</p>
                                    <p id="length" style="height: 3px;" class="invalid">8 or more character</p>
                                    <p id="symbol" style="height: 3px;" class="invalid"> at least 1 Symbol </p>
                                </div>

                            </div>
                        </div>
                        <div class="row">

                            <div class="col-md-4" style="font-family:Calibri;font-size:13px;color:black;margin-left: 12px;margin-top: 8px;">
                                Confirm Password
                            </div>

                            <div class="col-md-6" style="">
                                <div class="TextBoxDiv" style="margin-top: 5px;">
                                    @(Html.Kendo().TextBox().Name("txtCPassword").HtmlAttributes(new
                                {
                                    minlength = "8",
                                    tabindex = "1",
                                    type = "password",
                                    style = "width:100%"

                                }))
                                </div>
                                <div>
                                    <span style="color:grey;font-family:Calibri;font-size:10px;">You need to provide the same password</span>
                                </div>
                            </div>
                            <span class="k-invalid-msg" data-for="password-confirm"></span>

                        </div>

                    </div>
                </div>
                <div class="row">
                    <div style="margin-left: 21px; margin-top:13px; display:inline-block;">
                        <input type="checkbox" class="chkdet" id="" value="" checked @*onchange="onchange_checkbox()"*@ />
                    </div>
                    <div style="display:inline-block;"><p style="font-family:Calibri;font-size:13px;color:black;">Allow the user to change his password after his first login</p></div>
                </div>
                <div>
                    <u style="font-family:Calibri;font-size:12px;font-style:italic;color:dodgerblue;margin-left: 24px;font-weight: 400;"> Check Your Password Policy</u>
                </div>
                <br /><br /><br /><br /><br /><br /><br /><br />
                <div style="position:fixed;top: 45em;margin-left: 220px;">

                    @(Html.Kendo().Button()
        .Name("rstbtnSingle1")
        .HtmlAttributes(new { type = "button", @class = "k-primary multiUserNext" })
        .Content("Reset")
                    .Events(ev => ev.Click("Singlerstbtn"))
                    )

                    @(Html.Kendo().Button()
        .Name("canlbtnSingle")
        .HtmlAttributes(new { type = "button", @class = "k-primary multiUserCancel" })
        .Content("Cancel")
             .Events(e => e.Click("canlbtn"))

                    )


                </div>

            </div>
        </div>
        <div id="resetPwdInnerDiv" style="display:none;">
            <div>
                <p style="font-family:Calibri;font-size:14px;margin-top:18px;margin-left:20px;height: 32px;color:grey;margin-bottom:0;">Reset password</p>
            </div>
            <div class="row" style="height:400px; font-size:12px;padding-left: 6px;padding-right: 6px;font-family: sans-serif;">
                <div class="col-md-4" style="min-height: 20px;">User Id</div><div id="divRPWUserId" class="col-md-8" style="min-height: 20px;"></div>
                <div class="col-md-4">Password</div><div id="divRPWPassword" class="col-md-8" style="color: #87bb1d;font-weight: bold;"></div>
            </div>

            <div style="margin-top: 0px;margin-left: 22px;">

                @*@(Html.Kendo().Button()
                    .Name("btnSendSMS")
                    .HtmlAttributes(new { type = "button", @class = "k-primary multiUserNext", style = "width: 103px;font-size: 12px;padding: 4px; ", })
                    .Content("Send SMS")
                    //.Events(ev => ev.Click("SendMailToUser"))
                            )*@


                @(Html.Kendo().Button()
        .Name("btnSendMail")
        .HtmlAttributes(new { type = "button", @class = "k-primary multiUserNext", style = "width: 103px;font-size: 12px;padding: 6px; ", })
        .Content("Send Email")
        .Events(ev => ev.Click("SendMailToUser"))
                )
            </div>
        </div>


    </div>
</div>


<style>
    .k-chart-crosshair-tooltip, .k-chart-shared-tooltip, .k-widget.k-tooltip {
        /* border-color: #92c100; */
        background-color: white;
        /* color: #fff; */
    }

    /*.k-chart-crosshair-tooltip, .k-chart-shared-tooltip, .k-widget.k-tooltip {
                           color: red;
                           font-weight: normal;
                           font-family: calibri;
                       }*/

    .k-tooltip-validation .k-i-warning {
        display: none;
        vertical-align: text-top;
        margin-right: 3px;
    }

    .k-widget.k-tooltip {
        color: red;
    }
</style>

<script>




    $("#hideee").kendoValidator({

        rules: {
            verifyPasswords: function (input) {
                var ret = true;
                if (input.is("[name=txtCPassword]")) {
                    ret = input.val() === $("#txtPassword").val();

                }
                return ret;

            }
        },
        messages: {
            verifyPasswords: "Passwords do not matched"
        }
    });

    var myInput = document.getElementById("txtPassword");
    var myCInput = document.getElementById("txtCPassword");
    var letter = document.getElementById("letter");
    var capital = document.getElementById("capital");
    var number = document.getElementById("number");
    var length = document.getElementById("length");
    var symbol = document.getElementById("symbol");

    // When the user clicks on the password field, show the message box
    myInput.onfocus = function () {
        document.getElementById("message").style.display = "block";
    }

    // When the user clicks outside of the password field, hide the message box
    //myInput.onblur = function () {
    //    var password = document.getElementById("txtPassword").value;
    //    var rePassword = document.getElementById("txtCPassword").value;
    //    if (password != rePassword && password != null) {
    //        //rstbtnSingle
    //        $('#rstbtnSingle').prop('disabled', true);
    //        $("#txtPassword_validationMessage").show();
    //    }
    //    else {
    //        $('#rstbtnSingle').prop('disabled', false);
    //    }
    //    //else {
    //    //    $('#rstbtnSingle').prop('disabled', false);
    //    //    document.getElementById("message").style.display = "none";
    //    //}
    //}
    myCInput.onblur = function () {
        debugger;
        var password = document.getElementById("txtPassword").value;
        var rePassword = document.getElementById("txtCPassword").value;
        if (password != rePassword && password != null) {
            //rstbtnSingle
            $('#rstbtnSingle1').prop('disabled', true);
            $('#txtCPassword_validationMessage').show();

        }
        else {
            $('#rstbtnSingle1').prop('disabled', false);
            $('#txtCPassword_validationMessage').hide();
            //  document.getElementById("message").style.display = "none";
        }


    }
    // When the user starts to type something inside the password field
    myInput.onkeyup = function () {
        // Validate lowercase letters
        var lowerCaseLetters = /[a-z]/g;
        if (myInput.value.match(lowerCaseLetters)) {
            letter.classList.remove("invalid");
            letter.classList.add("valid");
        } else {
            letter.classList.remove("valid");
            letter.classList.add("invalid");
        }

        // Validate capital letters
        var upperCaseLetters = /[A-Z]/g;
        if (myInput.value.match(upperCaseLetters)) {
            capital.classList.remove("invalid");
            capital.classList.add("valid");
        } else {
            capital.classList.remove("valid");
            capital.classList.add("invalid");
        }

        // Validate numbers
        var numbers = /[0-9]/g;
        if (myInput.value.match(numbers)) {
            number.classList.remove("invalid");
            number.classList.add("valid");
        } else {
            number.classList.remove("valid");
            number.classList.add("invalid");
        }

        // Validate special character
        var symbols = /[ !@@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/;
        if (myInput.value.match(symbols)) {
            symbol.classList.remove("invalid");
            symbol.classList.add("valid");
        } else {
            symbol.classList.remove("valid");
            symbol.classList.add("invalid");
        }

        // Validate length
        if (myInput.value.length >= 8) {
            length.classList.remove("invalid");
            length.classList.add("valid");
        } else {
            length.classList.remove("valid");
            length.classList.add("invalid");
        }
        // When the user clicks outside of the password field, hide the message box
        myInput.onblur = function () {
            debugger;
            //Correct password conditions....
            if ((myInput.value.match(lowerCaseLetters)) && (myInput.value.length >= 8) && (myInput.value.match(numbers))
            && (myInput.value.match(upperCaseLetters)) && (myInput.value.match(lowerCaseLetters)) && (myInput.value.match(symbols))) {
                $(".k-i-checkmark").show();
                $("#hideErrorMsg").hide();
                $("#verify-checkmark").hide();
                $("#message").hide();
                document.getElementById("message").style.display = "none";
            }
            else {
                document.getElementById("message").style.display = "none";
                $("#hideErrorMsg").show();
                $(".k-i-checkmark").hide();
            }
            var password = document.getElementById("txtPassword").value;
            var rePassword = document.getElementById("txtCPassword").value;
            if (password != rePassword && password != null) {
                //rstbtnSingle
                $('#rstbtnSingle1').prop('disabled', true);
                $('#txtCPassword_validationMessage').show();
            }
            else {
                $('#rstbtnSingle1').prop('disabled', false);
                $('#txtCPassword_validationMessage').hide();
            }



        }
    }
</script>
<style>
    .valid {
        color: green;
    }

        .valid:before {
            position: relative;
            left: 0px;
            content: "";
        }
    /* Add a red text color and an "x" when the requirements are wrong */
    .invalid {
        color: red;
        margin-left: 7px;
    }

        .invalid:before {
            position: relative;
            left: -7px;
            content: "";
        }

    .invalid0 {
        margin-right: 28px;
        float: right;
        width: 64%;
    }

        .invalid0:before {
            position: relative;
            left: 7px;
            content: "";
        }

    #message h6 {
        margin-bottom: 0px;
        margin-top: -6px;
        font-size: 9px;
        font-family: 'Segoe UI';
    }
</style>


<script type="text/javascript">

    function canlbtn() {
        var reset = document.getElementById("resetpassword");
        reset.style.display = "none"
    };



    $(document).ready(function () {
        $('#txtpassword').change(function () {
            //debugger;
            var pass = $('#txtpassword').val();
            var upper = 0;
            var lower = 0;
            var sym = 0;
            var num = 0;

            for (var i = 0; i < pass.length; i++) {
                var va = pass.charCodeAt(i);
                if (64 < va && va < 91) {
                    upper++;
                }
                else if (96 < va && va < 123) {
                    lower++;
                }
                else if (47 < va && va < 58) {
                    num++;
                }
                else if (34 < va && va < 39 || va == 64) {
                    sym++;
                }
            }
            if (pass.length > 7) {
                $("#chk1").show();
            }
            else {
                $("#chk1").hide();
            }
            if (upper > 0) {
                $("#chk2").show();
            }
            else {
                $("#chk2").hide();
            }
            if (lower > 0) {
                $("#chk3").show();
            }
            else {
                $("#chk3").hide();
            }
            if (num > 0) {
                $("#chk4").show();
            }
            else {
                $("#chk4").hide();
            }
            if (sym > 0) {
                $("#chk5").show();
            }
            else {
                $("#chk5").hide();
            }

        });
        $('#txtconfirmpassword').change(function () {
            // debugger;
            if ($('#txtconfirmpassword').val() != $('#txtpassword').val()) {
                $('#txtconfirmpassword').val('');
                document.getElementById('confmsg').innerText = 'Password Not Matched';
            }
            else {
                document.getElementById('confmsg').innerText = '';
            }
        })

    })
    function btnchange() {
        //debugger
        $("#changepassword_container").find("span.k-tooltip-validation").hide();
        var validator = $("#changepassword_container").kendoValidator().data("kendoValidator");
        if (validator.validate()) {
            var current = $('#txtcurrentpassword').val();
            var newpass = $('#txtpassword').val();
            $.ajax({
                type: "POST",
                url: "/Accounts/Changedpassword",
                data: { 'newpass': newpass },
                datatype: "json",
                cache: false,
                success: function (data) {
                    if (data == 1) {
                        btnCancel_Click();
                        alert("Password Changed successfully!");
                    }
                    else {
                        window.location.href = "/Account/SignIn";
                    }
                },
                error: function (data) {
                    alert("Password not Changed!");
                },
            });


            return true;
        }
        else {
            return false;
        }
    }
</script>
@*madhu end*@
<style>
    #deactivate {
        position: fixed;
        top: 15em;
        left: 40%;
        margin-left: 0;
    }

    .bindRow {
        margin-top: 22px;
        margin-left: 6px;
        color: #6b6a6a;
    }

    .deactivePromtText {
        font-size: 14px;
        color: black;
        margin-left: 13px;
    }

    .bindImg {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        margin-top: -6px;
    }

    .bindName {
        font-size: 14px;
        font-weight: 500;
        display: inline-block;
        margin-left: 8px;
        text-transform: uppercase;
    }

    .bindDesig {
        font-size: 12px;
        margin-left: 9px;
    }

    .bindMsg {
        color: cornflowerblue;
        margin-left: 9px;
        font-size: 11px;
    }

    .deactiveMailId {
        font-size: 12px;
        margin-left: 4px;
    }

    #innerMulDeactiv {
        height: 470px;
        overflow-y: scroll;
        overflow-x: hidden;
    }

    #innerMulSignIn {
        height: 470px;
        overflow-y: scroll;
        overflow-x: hidden;
    }
</style>
@*Deactivate ,blockuser srt*@
<script>
    function ShowDetails() {
        debugger;
        var check = [];
        var someObj = {};

        var count = 0;
        someObj.fruitsDetail = [];
        someObj.fruitsCard = [];
        var viewvalue = document.getElementById("diffView").value
        if (viewvalue == "detail") {

            $(".chklistview:checkbox:checked").each(function () {
                count = count + 1;
                someObj.fruitsDetail.push($(this).attr("id"));
            });
            document.getElementById("hiddenMailId").value = someObj.fruitsDetail;
        }
        else if (viewvalue == "card") {
            $(".chklist:checkbox:checked").each(function () {
                count = count + 1;
                someObj.fruitsCard.push($(this).attr("id"));
            });
            document.getElementById("hiddenMailId").value = someObj.fruitsCard;
        }


        debugger;
        check = document.getElementById("hiddenMailId").value;//  User_MailId
        var rolearray = [];
        $.ajax({
            type: "POST",
            url: "/UserList/ShowMailPic",
            data: { emailid: check },
            dataType: "json",
            success: function (data1) {
                debugger;
                document.getElementById("innerMulDeactiv").innerHTML = "";
                var coun = "";
                var noOfUser = 0;
                for (var a = 0; a < data1.length; a++) {
                    var imgurl = data1[a][0].Uplaod_ImageURL;
                    // coun = coun + "<div class='row' style='margin-top: 22px;'><div class='col-md-9'><div style='float:left;'><img src=" + imgurl + " width=40 height=40 style='border-radius: 50%;margin-top: -6px;'/></div><div style='line-height: 13px;'><span style='font-size: 12px;display:inline-block;margin-left: 8px;'>" + data1[a][0].User_First_Name + " " + data1[a][0].User_Last_Name + "</span><br/><span id style='font-size: 11px;margin-left: 9px;'>" + data1[a][0].User_EmailId + "</span></div></div><div class='col-md-3' style='margin-top: 9px;'><span style='margin-left: 14px;'>**********</span></div></div>";
                    coun = coun + "<div class='row bindRow' id='rowBind'><div class='col-md-9'><div style='float:left;'><img class='bindImg' id='imgBind' src=" + imgurl + " /></div><div style='line-height: 13px;'><span id='nameBind'  class='bindName' style='margin-bottom:2px;'>" + data1[a][0].User_First_Name + " " + data1[a][0].User_Last_Name + "</span><br /><span class='bindDesig' id='desigBind'>" + data1[a][0].designati + "</span><br /><i class='fa fa-envelope-o faicon bindMsg'></i>&nbsp;<span id='mailidBind' class='BindMailId'>" + data1[a][0].User_EmailId + "</span></div></div></div>";
                    //innerMulDeactiv
                    noOfUser = noOfUser + 1;

                    rolearray.push(data1[a][0].User_RegistrationId);
                    document.getElementById("hiddenRegId").value = rolearray;

                }
                $("#innerMulDeactiv").append(coun);
                document.getElementById("cntUser").innerHTML = noOfUser;

                //$("#Multideactivate").hide();
                //$(".overlay-clos").hide();
                //var viewvalue = document.getElementById("diffView").value
                //if (viewvalue == "detail") {
                //    myFunction21();
                //}
                //else {
                //    myFunction31();
                //}
            },
            error: function () {
            }
        });
    };
    function SingleShowDetails() {
        debugger;
        var check = document.getElementById("hiddenMailId").value;
        $.ajax({
            type: "POST",
            url: "/UserList/ShowMailPic",
            data: { emailid: check },
            dataType: "json",
            success: function (data1) {
                debugger;
                $("#DeactivemultiUser").show();
                $("#UserDetails").hide();
                var noOfUser = 0;
                document.getElementById("innerMulDeactiv").innerHTML = "";
                var coun = "";
                for (var a = 0; a < data1.length; a++) {
                    var imgurl = data1[a][0].Uplaod_ImageURL;
                    // coun = coun + "<div class='row' style='margin-top: 22px;'><div class='col-md-9'><div style='float:left;'><img src=" + imgurl + " width=40 height=40 style='border-radius: 50%;margin-top: -6px;'/></div><div style='line-height: 13px;'><span style='font-size: 12px;display:inline-block;margin-left: 8px;'>" + data1[a][0].User_First_Name + " " + data1[a][0].User_Last_Name + "</span><br/><span id style='font-size: 11px;margin-left: 9px;'>" + data1[a][0].User_EmailId + "</span></div></div><div class='col-md-3' style='margin-top: 9px;'><span style='margin-left: 14px;'>**********</span></div></div>";
                    coun = coun + "<div class='row bindRow' id='rowBind'><div class='col-md-9'><div style='float:left;'><img class='bindImg' id='imgBind' src=" + imgurl + " /></div><div style='line-height: 13px;'><span id='nameBind'  class='bindName'>" + data1[a][0].User_First_Name + " " + data1[a][0].User_Last_Name + "</span><br /><span class='bindDesig' id='desigBind'>" + data1[a][0].designati + "</span><br /><i class='fa fa-envelope-o faicon bindMsg'></i>&nbsp;<span id='mailidBind' class='BindMailId'>" + data1[a][0].User_EmailId + "</span></div></div></div>";
                    //innerMulDeactiv
                    noOfUser = noOfUser + 1;
                }
                $("#innerMulDeactiv").append(coun);
                document.getElementById("cntUser").innerHTML = noOfUser;
                //$("#Multideactivate").hide();
                //$(".overlay-clos").hide();
                //var viewvalue = document.getElementById("diffView").value
                //if (viewvalue == "detail") {
                //    myFunction21();
                //}
                //else {
                //    myFunction31();
                //}
            },
            error: function () {
            }
        });
    }

    //SingleActivateDetails()  $("#DeactivemultiUser").show(); $("#UserDetails").hide(); ActivemultiUser

    function SingleActivateDetails() {
        debugger;
        var check = document.getElementById("hiddenMailId").value;
        $.ajax({
            type: "POST",
            url: "/UserList/ShowMailPic",
            data: { emailid: check },
            dataType: "json",
            success: function (data1) {
                debugger;
                $("#ActivemultiUser").show();
                $("#UserDetails").hide();
                var noOfUser = 0;
                document.getElementById("innerMulActive").innerHTML = "";
                var coun = "";
                for (var a = 0; a < data1.length; a++) {
                    var imgurl = data1[a][0].Uplaod_ImageURL;
                    // coun = coun + "<div class='row' style='margin-top: 22px;'><div class='col-md-9'><div style='float:left;'><img src=" + imgurl + " width=40 height=40 style='border-radius: 50%;margin-top: -6px;'/></div><div style='line-height: 13px;'><span style='font-size: 12px;display:inline-block;margin-left: 8px;'>" + data1[a][0].User_First_Name + " " + data1[a][0].User_Last_Name + "</span><br/><span id style='font-size: 11px;margin-left: 9px;'>" + data1[a][0].User_EmailId + "</span></div></div><div class='col-md-3' style='margin-top: 9px;'><span style='margin-left: 14px;'>**********</span></div></div>";
                    coun = coun + "<div class='row bindRow' id='rowBind'><div class='col-md-9'><div style='float:left;'><img class='bindImg' id='imgBind' src=" + imgurl + " /></div><div style='line-height: 13px;'><span id='nameBind'  class='bindName'>" + data1[a][0].User_First_Name + " " + data1[a][0].User_Last_Name + "</span><br /><span class='bindDesig' id='desigBind'>" + data1[a][0].designati + "</span><br /><i class='fa fa-envelope-o faicon bindMsg'></i>&nbsp;<span id='mailidBind' class='BindMailId'>" + data1[a][0].User_EmailId + "</span></div></div></div>";
                    //innerMulDeactiv
                    noOfUser = noOfUser + 1;
                }
                $("#innerMulActive").append(coun);
                document.getElementById("cntActiveUser").innerHTML = noOfUser;
                //$("#Multideactivate").hide();
                //$(".overlay-clos").hide();
                //var viewvalue = document.getElementById("diffView").value
                //if (viewvalue == "detail") {
                //    myFunction21();
                //}
                //else {
                //    myFunction31();
                //}
            },
            error: function () {
            }
        });
    }

    function ShowBlockSignIn() {
        debugger;
        var check = [];
        var someObj = {};

        var count = 0;
        someObj.fruitsDetail = [];
        someObj.fruitsCard = [];
        var viewvalue = document.getElementById("diffView").value
        if (viewvalue == "detail") {

            $(".chklistview:checkbox:checked").each(function () {
                count = count + 1;
                someObj.fruitsDetail.push($(this).attr("id"));
            });

            document.getElementById("hiddenMailId").value = someObj.fruitsDetail;
        }
        else if (viewvalue == "card") {
            $(".chklist:checkbox:checked").each(function () {
                count = count + 1;
                someObj.fruitsCard.push($(this).attr("id"));
            });
            document.getElementById("hiddenMailId").value = someObj.fruitsCard;
        }


        debugger;
        check = document.getElementById("hiddenMailId").value;//  User_MailId
        var rolearray = [];
        $.ajax({
            type: "POST",
            url: "/UserList/ShowMailPic",
            data: { emailid: check },
            dataType: "json",
            success: function (data1) {
                debugger;
                document.getElementById("innerMulSignIn").innerHTML = "";
                document.getElementById("cntUserInBlock").innerHTML = "";
                var coun = "";
                var noOfUser = 0;
                for (var a = 0; a < data1.length; a++) {
                    var imgurl = data1[a][0].Uplaod_ImageURL;
                    // coun = coun + "<div class='row' style='margin-top: 22px;'><div class='col-md-9'><div style='float:left;'><img src=" + imgurl + " width=40 height=40 style='border-radius: 50%;margin-top: -6px;'/></div><div style='line-height: 13px;'><span style='font-size: 12px;display:inline-block;margin-left: 8px;'>" + data1[a][0].User_First_Name + " " + data1[a][0].User_Last_Name + "</span><br/><span id style='font-size: 11px;margin-left: 9px;'>" + data1[a][0].User_EmailId + "</span></div></div><div class='col-md-3' style='margin-top: 9px;'><span style='margin-left: 14px;'>**********</span></div></div>";
                    coun = coun + "<div class='row bindRow' id='rowBind'><div class='col-md-9'><div style='float:left;'><img class='bindImg' id='imgBind' src=" + imgurl + " /></div><div style='line-height: 13px;'><span id='nameBind'  class='bindName'>" + data1[a][0].User_First_Name + " " + data1[a][0].User_Last_Name + "</span><br /><span class='bindDesig' id='desigBind'>" + data1[a][0].designati + "</span><br /><i class='fa fa-envelope-o faicon bindMsg'></i>&nbsp;<span id='mailidBind' class='BindMailId'>" + data1[a][0].User_EmailId + "</span></div></div></div>";
                    //innerMulDeactiv
                    noOfUser = noOfUser + 1;

                    rolearray.push(data1[a][0].User_RegistrationId);
                    document.getElementById("hiddenRegId").value = rolearray;

                }
                $("#innerMulSignIn").append(coun);
                document.getElementById("cntUserInBlock").innerHTML = noOfUser;

                //$("#Multideactivate").hide();
                //$(".overlay-clos").hide();
                //var viewvalue = document.getElementById("diffView").value
                //if (viewvalue == "detail") {
                //    myFunction21();
                //}
                //else {
                //    myFunction31();
                //}
            },
            error: function () {
            }
        });
    };

    function SingleBlockSignIn() {
        debugger;
        var check = document.getElementById("hiddenMailId").value;
        $.ajax({
            type: "POST",
            url: "/UserList/ShowMailPic",
            data: { emailid: check },
            dataType: "json",
            success: function (data1) {
                debugger;
                $("#BlockSignInmultiUser").show();
                $("#UserDetails").hide();
                var noOfUser = 0;
                document.getElementById("innerMulSignIn").innerHTML = "";
                document.getElementById("cntUserInBlock").innerHTML = "";
                var coun = "";
                for (var a = 0; a < data1.length; a++) {
                    var imgurl = data1[a][0].Uplaod_ImageURL;
                    // coun = coun + "<div class='row' style='margin-top: 22px;'><div class='col-md-9'><div style='float:left;'><img src=" + imgurl + " width=40 height=40 style='border-radius: 50%;margin-top: -6px;'/></div><div style='line-height: 13px;'><span style='font-size: 12px;display:inline-block;margin-left: 8px;'>" + data1[a][0].User_First_Name + " " + data1[a][0].User_Last_Name + "</span><br/><span id style='font-size: 11px;margin-left: 9px;'>" + data1[a][0].User_EmailId + "</span></div></div><div class='col-md-3' style='margin-top: 9px;'><span style='margin-left: 14px;'>**********</span></div></div>";
                    coun = coun + "<div class='row bindRow' id='rowBind'><div class='col-md-9'><div style='float:left;'><img class='bindImg' id='imgBind' src=" + imgurl + " /></div><div style='line-height: 13px;'><span id='nameBind'  class='bindName'>" + data1[a][0].User_First_Name + " " + data1[a][0].User_Last_Name + "</span><br /><span class='bindDesig' id='desigBind'>" + data1[a][0].designati + "</span><br /><i class='fa fa-envelope-o faicon bindMsg'></i>&nbsp;<span id='mailidBind' class='BindMailId'>" + data1[a][0].User_EmailId + "</span></div></div></div>";
                    //innerMulDeactiv
                    noOfUser = noOfUser + 1;
                }
                $("#innerMulSignIn").append(coun);
                document.getElementById("cntUserInBlock").innerHTML = noOfUser;
                //$("#Multideactivate").hide();
                //$(".overlay-clos").hide();
                //var viewvalue = document.getElementById("diffView").value
                //if (viewvalue == "detail") {
                //    myFunction21();
                //}
                //else {
                //    myFunction31();
                //}
            },
            error: function () {
            }
        });
    }

    function ShowUnblockSignIn() {
        debugger;
        var check = [];
        var someObj = {};

        var count = 0;
        someObj.fruitsDetail = [];
        someObj.fruitsCard = [];
        var viewvalue = document.getElementById("diffView").value
        if (viewvalue == "detail") {

            $(".chklistview:checkbox:checked").each(function () {
                count = count + 1;
                someObj.fruitsDetail.push($(this).attr("id"));
            });

            document.getElementById("hiddenMailId").value = someObj.fruitsDetail;
        }
        else if (viewvalue == "card") {
            $(".chklist:checkbox:checked").each(function () {
                count = count + 1;
                someObj.fruitsCard.push($(this).attr("id"));
            });
            document.getElementById("hiddenMailId").value = someObj.fruitsCard;
        }


        debugger;
        check = document.getElementById("hiddenMailId").value;//  User_MailId
        var rolearray = [];
        $.ajax({
            type: "POST",
            url: "/UserList/ShowMailPic",
            data: { emailid: check },
            dataType: "json",
            success: function (data1) {
                debugger;
                document.getElementById("innerUnblockSignIn").innerHTML = "";
                document.getElementById("cntUserUnblock").innerHTML = "";
                var coun = "";
                var noOfUser = 0;
                for (var a = 0; a < data1.length; a++) {
                    var imgurl = data1[a][0].Uplaod_ImageURL;
                    // coun = coun + "<div class='row' style='margin-top: 22px;'><div class='col-md-9'><div style='float:left;'><img src=" + imgurl + " width=40 height=40 style='border-radius: 50%;margin-top: -6px;'/></div><div style='line-height: 13px;'><span style='font-size: 12px;display:inline-block;margin-left: 8px;'>" + data1[a][0].User_First_Name + " " + data1[a][0].User_Last_Name + "</span><br/><span id style='font-size: 11px;margin-left: 9px;'>" + data1[a][0].User_EmailId + "</span></div></div><div class='col-md-3' style='margin-top: 9px;'><span style='margin-left: 14px;'>**********</span></div></div>";
                    coun = coun + "<div class='row bindRow' id='rowBind'><div class='col-md-9'><div style='float:left;'><img class='bindImg' id='imgBind' src=" + imgurl + " /></div><div style='line-height: 13px;'><span id='nameBind'  class='bindName'>" + data1[a][0].User_First_Name + " " + data1[a][0].User_Last_Name + "</span><br /><span class='bindDesig' id='desigBind'>" + data1[a][0].designati + "</span><br /><i class='fa fa-envelope-o faicon bindMsg'></i>&nbsp;<span id='mailidBind' class='BindMailId'>" + data1[a][0].User_EmailId + "</span></div></div></div>";
                    //innerMulDeactiv
                    noOfUser = noOfUser + 1;

                    rolearray.push(data1[a][0].User_RegistrationId);
                    document.getElementById("hiddenRegId").value = rolearray;

                }
                $("#innerUnblockSignIn").append(coun);
                document.getElementById("cntUserUnblock").innerHTML = noOfUser;

                //$("#Multideactivate").hide();
                //$(".overlay-clos").hide();
                //var viewvalue = document.getElementById("diffView").value
                //if (viewvalue == "detail") {
                //    myFunction21();
                //}
                //else {
                //    myFunction31();
                //}
            },
            error: function () {
            }
        });
    }


    function ShowActive() {
        debugger;
        var check = [];
        var someObj = {};

        var count = 0;
        someObj.fruitsDetail = [];
        someObj.fruitsCard = [];
        var viewvalue = document.getElementById("diffView").value
        if (viewvalue == "detail") {

            $(".chklistview:checkbox:checked").each(function () {
                count = count + 1;
                someObj.fruitsDetail.push($(this).attr("id"));
            });

            document.getElementById("hiddenMailId").value = someObj.fruitsDetail;
        }
        else if (viewvalue == "card") {
            $(".chklist:checkbox:checked").each(function () {
                count = count + 1;
                someObj.fruitsCard.push($(this).attr("id"));
            });
            document.getElementById("hiddenMailId").value = someObj.fruitsCard;
        }


        debugger;
        check = document.getElementById("hiddenMailId").value;//  User_MailId
        var rolearray = [];
        $.ajax({
            type: "POST",
            url: "/UserList/ShowMailPic",
            data: { emailid: check },
            dataType: "json",
            success: function (data1) {
                debugger;
                document.getElementById("innerMulActive").innerHTML = "";
                document.getElementById("cntActiveUser").innerHTML = "";
                var coun = "";
                var noOfUser = 0;
                for (var a = 0; a < data1.length; a++) {
                    var imgurl = data1[a][0].Uplaod_ImageURL;
                    // coun = coun + "<div class='row' style='margin-top: 22px;'><div class='col-md-9'><div style='float:left;'><img src=" + imgurl + " width=40 height=40 style='border-radius: 50%;margin-top: -6px;'/></div><div style='line-height: 13px;'><span style='font-size: 12px;display:inline-block;margin-left: 8px;'>" + data1[a][0].User_First_Name + " " + data1[a][0].User_Last_Name + "</span><br/><span id style='font-size: 11px;margin-left: 9px;'>" + data1[a][0].User_EmailId + "</span></div></div><div class='col-md-3' style='margin-top: 9px;'><span style='margin-left: 14px;'>**********</span></div></div>";
                    coun = coun + "<div class='row bindRow' id='rowBind'><div class='col-md-9'><div style='float:left;'><img class='bindImg' id='imgBind' src=" + imgurl + " /></div><div style='line-height: 13px;'><span id='nameBind'  class='bindName'>" + data1[a][0].User_First_Name + " " + data1[a][0].User_Last_Name + "</span><br /><span class='bindDesig' id='desigBind'>" + data1[a][0].designati + "</span><br /><i class='fa fa-envelope-o faicon bindMsg'></i>&nbsp;<span id='mailidBind' class='BindMailId'>" + data1[a][0].User_EmailId + "</span></div></div></div>";
                    //innerMulDeactiv
                    noOfUser = noOfUser + 1;

                    rolearray.push(data1[a][0].User_RegistrationId);
                    document.getElementById("hiddenRegId").value = rolearray;

                }
                $("#innerMulActive").append(coun);
                document.getElementById("cntActiveUser").innerHTML = noOfUser;
            },
            error: function () {
            }
        });
    }




</script>
@*Start Deactivate Region*@
<div id="DeactivemultiUser" class="flyout-sm  flyout ember-view cssdivclose" style="display:none;font-family: Calibri;overflow-y:scroll;overflow-x:hidden;">


    <div class="flyout-header aliceblue-bg" style="padding: 0px 0px;">
        <div style="background-color:cornflowerblue;height:40px;line-height: 3em;color: white;width: 400px;">
            <div style="width: 95%;margin-left: 10px;">
                <span>
                    <b style="font-size: 16px;font-weight: 500;color:white">Deactivation</b>
                </span>

                <span class="k-icon k-i-close userClose" style="margin-top:10px;" onclick="closeMultiDeactive()">
                </span>

            </div>
        </div>
    </div>

    <div class="clear-fix"></div>
    <div class="user-pro">
        <div class="clearfix" style="margin-bottom:10px"></div>
        <div id="multiDeactive">
            <div>
                <span class="deactivePromtText">Are you sure you want to deactivate the selected <span id="cntUser">3</span> user(s).</span>
            </div>
            <div>
                <span style="font-size: 12px;font-weight:bold;color:#079af5; margin-left: 13px;">Deactivating the users free up the licenses assigned to them.</span>
            </div>
        </div>
        <div id="hi">
            <div id="innerMulDeactiv">
            </div>
            <div style="margin-left: 24px;">

                @(Html.Kendo().Button()
        .Name("fnsbtn")
        .HtmlAttributes(new { type = "button", @class = "k-primary ", style = "height:29px;width:86px;background-color:cornflowerblue;margin-right: 0px;font-size: 14px;border:1px solid lightgray;color:white;" })
        .Content("Deactive")
                .Events(ev => ev.Click("MultiDeactivateNow"))
                )

                @(Html.Kendo().Button()
        .Name("clbtn")
        .HtmlAttributes(new { type = "button", @class = "k-primary", style = "height:29px;width:67px;background-color:lightgray;color:black;font-size: 14px;padding: 2px 11px;border:1px solid lightgray;" })
        .Content("Cancel")
                        .Events(e => e.Click("closeMultiDeactive"))

                )


            </div>



        </div>
    </div>
</div>
@*End Deactivate Region*@

@*Start Activate Region*@
<div id="ActivemultiUser" class="flyout-sm  flyout ember-view cssdivclose" style="display:none;font-family: Calibri;overflow-y:scroll;overflow-x:hidden;">


    <div class="flyout-header aliceblue-bg" style="padding: 0px 0px;">
        <div style="background-color:cornflowerblue;height:40px;line-height: 3em;color: white;width: 400px;">
            <div style="width: 95%;margin-left: 10px;">
                <span>
                    <b style="font-size: 16px;font-weight: 500;color:white">Activation</b>
                </span>

                <span class="k-icon k-i-close userClose" style="margin-top:10px;" onclick="closeMultiActive()">
                </span>

            </div>
        </div>
    </div>

    <div class="clear-fix"></div>
    <div class="user-pro">
        <div class="clearfix" style="margin-bottom:10px"></div>
        <div id="multiDeactive">
            <div>
                <span class="deactivePromtText">Are you sure you want to activate the selected <span id="cntActiveUser">3</span> user(s).</span>
            </div>
            <div>
                <span style="font-size: 12px;font-weight:bold;color:#079af5; margin-left: 13px;">Activating the users to provide licenses to them.</span>
            </div>
        </div>
        <div id="hi">
            <div id="innerMulActive" style="height: 425px;">
            </div>
            <div style="margin-left: 24px;">

                @(Html.Kendo().Button()
        .Name("fnsActivebtn")
        .HtmlAttributes(new { type = "button", @class = "k-primary ", style = "height:29px;width:86px;background-color:cornflowerblue;margin-right: 0px;font-size: 12px;" })
        .Content("Active")
                .Events(ev => ev.Click("MultiActivateNow"))
                )

                @(Html.Kendo().Button()
        .Name("clActivebtn")
        .HtmlAttributes(new { type = "button", @class = "k-primary", style = "height:29px;width:67px;background-color:white;color:black;font-size: 12px;padding: 4px 11px;" })
        .Content("Cancel")
                .Events(e => e.Click("closeMultiActive"))

                )
            </div>
        </div>
    </div>
</div>
@*End Activate Region*@

@*Start Block SignIn Region*@
<div id="BlockSignInmultiUser" class="flyout-sm  flyout ember-view cssdivclose" style="display:none;font-family: Calibri;overflow-y:scroll;overflow-x:hidden;">


    <div class="flyout-header aliceblue-bg" style="padding: 0px 0px;">
        <div style="background-color:cornflowerblue;height:40px;line-height: 3em;color: white;width: 400px;">
            <div style="width: 95%;margin-left: 10px;">
                <span>
                    <b style="font-size: 16px;font-weight: 500;color:white">Blocked Sign In</b>
                </span>

                <span class="k-icon k-i-close userClose" style="margin-top:10px;" onclick="closeMultiBlockSignIn()">
                </span>

            </div>
        </div>
    </div>

    <div class="clear-fix"></div>
    <div class="user-pro">
        <div class="clearfix" style="margin-bottom:10px"></div>
        <div id="multiDeactive">
            <div>
                <span class="deactivePromtText">Are you sure you want to block sign in for the selected <span id="cntUserInBlock">3</span> user(s).</span>
            </div>
            <div>
                <span style="font-size: 12px;font-weight:bold;color:#079af5; margin-left: 13px;">Blocking the users does not unlicense them from the products.</span>
            </div>
        </div>
        <div id="hi">
            <div id="innerMulSignIn">
            </div>
            <div style="margin-left: 24px;">

                @(Html.Kendo().Button()
        .Name("btnMultiBlockSign")
        .HtmlAttributes(new { type = "button", @class = "k-primary ", style = "height:29px;width:127px;background-color:cornflowerblue;margin-right: 0px;font-size: 16px;" })
        .Content("Block Sign In")
               .Events(ev => ev.Click("MultiBlockSignInNow"))
                )

                @(Html.Kendo().Button()
        .Name("CancelBlockSignIn")
        .HtmlAttributes(new { type = "button", @class = "k-primary", style = "height:29px;width:67px;background-color:white;color:black;font-size: 16px;padding: 0px 0px;" })
        .Content("Cancel")
                        .Events(e => e.Click("closeMultiBlockSignIn"))

                )


            </div>



        </div>
    </div>
</div>
@*End Block SignIn Region*@

@*Start Unblock SignIn Region*@
<div id="UnlockSignInUser" class="flyout-sm  flyout ember-view cssdivclose" style="display:none; font-family:Calibri;overflow-y:scroll;overflow-x:hidden;">


    <div class="flyout-header aliceblue-bg" style="padding: 0px 0px;">
        <div style="background-color:cornflowerblue;height:40px;line-height: 3em;color: white;width: 400px;">
            <div style="width:95%;margin-left:10px;">
                <span>
                    <b style="font-size:16px;font-weight: 500;color:white">Unblocked Sign In</b>
                </span>

                <span class="k-icon k-i-close userClose" style="margin-top:10px;" onclick="closeMultiUnblockSignIn()">
                </span>

            </div>
        </div>
    </div>

    <div class="clear-fix"></div>
    <div class="user-pro">
        <div class="clearfix" style="margin-bottom:10px"></div>
        <div id="multiDeactive">
            <div>
                <span class="deactivePromtText" style="font-size: 13px;">Are you sure you want to unblock sign in for the selected <span id="cntUserUnblock"></span> user(s).</span>
            </div>
            <div>
                <span style="font-size: 12px;font-weight:bold;color:#079af5; margin-left: 13px;">Unblocking the users will allow to user to successfully login to their portal.</span>
            </div>
        </div>
        <div id="hi">
            <div id="innerUnblockSignIn" style="margin-bottom: 336px;">
            </div>
            <div style="margin-left: 24px;">

                @(Html.Kendo().Button()
        .Name("btnMultiUnblockSign")
        .HtmlAttributes(new { type = "button", @class = "k-primary ", style = "height:29px;width:127px;background-color:cornflowerblue;margin-right: 0px;font-size: 16px;" })
        .Content("Unblock Sign In")
              .Events(ev => ev.Click("MultiUnblockSignInNow"))
                )

                @(Html.Kendo().Button()
        .Name("CancelUnblockSignIn")
        .HtmlAttributes(new { type = "button", @class = "k-primary", style = "height:29px;width:67px;background-color:white;color:black;font-size: 16px;padding: -1px 11px;" })
        .Content("Cancel")
                  .Events(e => e.Click("closeMultiUnblockSignIn"))

                )


            </div>



        </div>
    </div>
</div>
@*End Unblock SignIn Region*@





<script>
    function closeAddUserConformClick() {
        $("#addUserConform").hide();

    }
    function closeMultiActive() {
        $("#ActivemultiUser").hide();
    }
    function CancelDeactivate() {
        $("#deactivate").hide();
        $(".overlay-clos").hide();
    }
    function closeMultiDeactive() {
        $("#DeactivemultiUser").hide();

    }

    function closeMultiBlockSignIn() {
        $("#BlockSignInmultiUser").hide();
    }
    function closeMultiUnblockSignIn() {
        $("#UnlockSignInUser").hide();
    }
    function CancelActiveUser() {
        $("#ActiveUserDiv").hide();
        $(".overlay-clos").hide();
    }
    function CancelUnblockuser() {
        $("#UnblockUserDiv").hide();
        $(".overlay-clos").hide();
    }

    function SendMailToUser() {
        var email = $("#divRPWUserId").html();
        var password = $("#divRPWPassword").html();
        $.ajax({
            type: "POST",
            url: "/UserList/MailSend",
            data: { "maildata": email, "password": password },
            dataType: "json",
            success: function (data1) {
                $("#ResetPwsSingle").hide();
                $(".overlay-clos").hide();
                var viewvalue = document.getElementById("diffView").value
                $("#resetPwdInnerDiv").hide();
                $("#resetpassword").hide();
                if (viewvalue == "detail") {
                    myFunction21();
                }
                else {
                    myFunction31();
                }

            },
            error: function () {
                // alert("deactive user unsucessful");
            }
        });
    }


    //function DeactivateNow() {
    //    debugger;
    //    check = document.getElementById("hiddenRegId").value;//  User_RegistrationId
    //    $.ajax({
    //        type: "POST",
    //        url: "/UserList/DeactiveById",
    //        data: { dataval: check },
    //        dataType: "json",
    //        success: function (data1) {
    //            debugger;
    //            $("#deactivate").hide();
    //            $(".overlay-clos").hide();
    //            var viewvalue = document.getElementById("diffView").value
    //            if (viewvalue == "detail") {
    //                myFunction21();
    //                //functionAlert();

    //            }
    //            else {
    //                myFunction31();
    //                //functionAlert();
    //            }
    //        },
    //        error: function () {
    //        }
    //    });
    //}
    function MultiDeactivateNow() {
        debugger;

       var check = document.getElementById("hiddenRegId").value;//  User_RegistrationId
        $.ajax({
            type: "POST",
            url: "/UserList/DeactiveByIds",
            data: { dataval: check },
            dataType: "json",
            success: function (data1) { 
                $.ajax({
                    type: "POST",
                    url: "/UserList/UnlicensedById",
                    data: { rid: check },
                    dataType: "json",
                    success: function (data2) {
                        $("#DeactivemultiUser").hide();
                        if (viewvalue == "detail") {
                            myFunction21();
                        }
                        else {
                            myFunction31();
                        }
                    },
                    error: function () {

                    }
                });
                var viewvalue = document.getElementById("diffView").value;
               
            },
            error: function () {
            }
        });
        //debugger;
        //var check = [];
        //var someObj = {};

        //var count = 0;
        //someObj.fruitsDetail = [];
        //someObj.fruitsCard = [];
        //var viewvalue = document.getElementById("diffView").value
        //if (viewvalue == "detail") {

        //    $(".chklistview:checkbox:checked").each(function () {
        //        count = count + 1;
        //        someObj.fruitsDetail.push($(this).attr("value"));
        //    });
        //    document.getElementById("hiddenRegId").value = someObj.fruitsDetail;
        //}
        //else if (viewvalue == "card") {
        //    $(".chklist:checkbox:checked").each(function () {
        //        count = count + 1;
        //        someObj.fruitsCard.push($(this).attr("value"));
        //    });
        //    document.getElementById("hiddenRegId").value = someObj.fruitsCard;
        //}


        //debugger;
        ////$('input[type="checkbox"]'). click(function(){
        ////    if($(this). prop("checked") == true){
        ////        check = document.getElementById("hiddenRegId").value;
        ////    }
        ////}
        //if ($('#chklistview').not(':checked').length) {
        //}




    }





    function MultiBlockSignInNow() {
        debugger;
        //var check = [];
        //var someObj = {};

        //var count = 0;
        //someObj.fruitsDetail = [];
        //someObj.fruitsCard = [];
        //var viewvalue = document.getElementById("diffView").value
        //if (viewvalue == "detail") {

        //    $(".chklistview:checkbox:checked").each(function () {
        //        count = count + 1;
        //        someObj.fruitsDetail.push($(this).attr("value"));
        //    });
        //    document.getElementById("hiddenRegId").value = someObj.fruitsDetail;
        //}
        //else if (viewvalue == "card") {
        //    $(".chklist:checkbox:checked").each(function () {
        //        count = count + 1;
        //        someObj.fruitsCard.push($(this).attr("value"));
        //    });
        //    document.getElementById("hiddenRegId").value = someObj.fruitsCard;
        //}


        //debugger;
        ////$('input[type="checkbox"]'). click(function(){
        ////    if($(this). prop("checked") == true){
        ////        check = document.getElementById("hiddenRegId").value;
        ////    }
        ////}
        //if ($('#chklistview').not(':checked').length) {
        //}
        itemsval = document.getElementById("hiddenRegId").value;//  User_RegistrationId

        $.ajax({
            type: "POST",
            url: "/UserList/BlockUserByIds",
            data: { dataval: itemsval },
            dataType: "json",
            //contentType: 'application/x-www-form-urlencoded; charset=UTF-8',
            success: function (data1) {
                debugger;
                $("#BlockSignInmultiUser").hide();
                var viewvalue = document.getElementById("diffView").value
                if (viewvalue == "detail") {
                    myFunction21();
                    $("#BlockSignInmultiUser").hide();
                }
                else {
                    myFunction31();
                    $("#BlockSignInmultiUser").hide();
                }
            },
            error: function () {
            }
        });

    }

    function MultiUnblockSignInNow() {
        debugger;
        itemsval = document.getElementById("hiddenRegId").value;//  User_RegistrationId

        $.ajax({
            type: "POST",
            url: "/UserList/UnblockByIds",
            data: { dataval: itemsval },
            dataType: "json",
            //contentType: 'application/x-www-form-urlencoded; charset=UTF-8',
            success: function (data1) {
                debugger;
                $("#BlockSignInmultiUser").hide();
                var viewvalue = document.getElementById("diffView").value
                if (viewvalue == "detail") {
                    myFunction21();
                    $("#UnlockSignInUser").hide();
                }
                else {
                    myFunction31();
                    $("#UnlockSignInUser").hide();
                }
            },
            error: function () {
            }
        });

    }

    function MultiCancelDeactivate() {
        $("#Multideactivate").hide();
        $(".overlay-clos").hide();
    }
    function CancelResetSinglePwd() {
        $("#ResetPwsSingle").hide();
        $(".overlay-clos").hide();
    }
    function CancelMultiBlockuser() {
        $("#MultiBlockuserdiv").hide();
        $(".overlay-clos").hide();
    }
    function BlockuserNow() {
        var itemsval = document.getElementById("hiddenRegId").value;
        $.ajax({
            type: "POST",
            url: "/UserList/BlockUserById",
            data: { rid: itemsval },
            dataType: "json",
            //contentType: 'application/x-www-form-urlencoded; charset=UTF-8',
            success: function (data1) {
                $("#Blockuserdiv").hide();
                var viewvalue = document.getElementById("diffView").value
                if (viewvalue == "detail") {
                    myFunction21();
                }
                else {
                    myFunction31();
                }
            },
            error: function () {
            }
        });
    }
    function MultiBlockuserNow() {
        debugger;
        var check = [];
        var viewvalue = document.getElementById("diffView").value;
        var someObj = {};

        var count = 0;
        someObj.fruitsDetail = [];
        someObj.fruitsCard = [];
        if (viewvalue == "detail") {
            $(".chklistview:checkbox:checked").each(function () {
                count = count + 1;
                someObj.fruitsDetail.push($(this).attr("value"));
            });
            document.getElementById("hiddenRegId").value = someObj.fruitsDetail;
        }
        else {
            $(".chklist:checkbox:checked").each(function () {
                count = count + 1;
                someObj.fruitsCard.push($(this).attr("value"));
            });
            document.getElementById("hiddenRegId").value = someObj.fruitsCard;
        }

        var itemsval = document.getElementById("hiddenRegId").value;
        $.ajax({
            type: "POST",
            url: "/UserList/BlockUserByIds",
            data: { dataval: itemsval },
            dataType: "json",
            //contentType: 'application/x-www-form-urlencoded; charset=UTF-8',
            success: function (data1) {
                $("#MultiBlockuserdiv").hide();
                $(".overlay-clos").hide();
                var viewvalue = document.getElementById("diffView").value
                if (viewvalue == "detail") {
                    myFunction21();
                }
                else {
                    myFunction31();
                }
            },
            error: function () {
            }
        });


    }

    function MultiActivateNow() {
        debugger;
        check = document.getElementById("hiddenRegId").value;//  User_RegistrationId
        $.ajax({
            type: "POST",
            url: "/UserList/ActiveByIds",
            data: { dataval: check },
            dataType: "json",
            success: function (data1) {
                $("#ActivemultiUser").hide();
                var viewvalue = document.getElementById("diffView").value
                if (viewvalue == "detail") {
                    myFunction21();
                }
                else {
                    myFunction31();
                }
            },
            error: function () {
            }
        });
    }


    function ActiveUser() {
        debugger;
        var check = [];
        var someObj = {};

        var count = 0;
        someObj.fruitsDetail = [];
        someObj.fruitsCard = [];
        var viewvalue = document.getElementById("diffView").value
        if (viewvalue == "detail") {

            $(".chklistview:checkbox:checked").each(function () {
                count = count + 1;
                someObj.fruitsDetail.push($(this).attr("value"));
            });
            document.getElementById("hiddenRegId").value = someObj.fruitsDetail;
        }
        else if (viewvalue == "card") {
            $(".chklist:checkbox:checked").each(function () {
                count = count + 1;
                someObj.fruitsCard.push($(this).attr("value"));
            });
            document.getElementById("hiddenRegId").value = someObj.fruitsCard;
        }


        debugger;
        check = document.getElementById("hiddenRegId").value;//  User_RegistrationId
        $.ajax({
            type: "POST",
            url: "/UserList/ActiveByIds",
            data: { dataval: check },
            dataType: "json",
            success: function (data1) {
                $("#ActiveUserDiv").hide();
                $(".overlay-clos").hide();
                var viewvalue = document.getElementById("diffView").value
                if (viewvalue == "detail") {
                    myFunction21();
                }
                else {
                    myFunction31();
                }
            },
            error: function () {
            }
        });
    }


    function UnblockuserNow() {

        debugger;
        var check = [];
        var someObj = {};

        var count = 0;
        someObj.fruitsDetail = [];
        someObj.fruitsCard = [];
        var viewvalue = document.getElementById("diffView").value
        if (viewvalue == "detail") {

            $(".chklistview:checkbox:checked").each(function () {
                count = count + 1;
                someObj.fruitsDetail.push($(this).attr("value"));
            });
            document.getElementById("hiddenRegId").value = someObj.fruitsDetail;
        }
        else if (viewvalue == "card") {
            $(".chklist:checkbox:checked").each(function () {
                count = count + 1;
                someObj.fruitsCard.push($(this).attr("value"));
            });
            document.getElementById("hiddenRegId").value = someObj.fruitsCard;
        }


        debugger;
        check = document.getElementById("hiddenRegId").value;//  User_RegistrationId
        $.ajax({
            type: "POST",
            url: "/UserList/UnblockByIds",
            data: { dataval: check },
            dataType: "json",
            success: function (data1) {
                $("#UnblockUserDiv").hide();
                $(".overlay-clos").hide();
                var viewvalue = document.getElementById("diffView").value
                if (viewvalue == "detail") {
                    myFunction21();
                }
                else {
                    myFunction31();
                }
            },
            error: function () {

            }
        });
    }
</script>


@*Deactivate ,blockuser end

    @*User details srt*@

@*P start css*@
<style>
    .for-padding {
        padding: 0px;
    }

    .new-userpopup .userAddImg {
        width: 50px;
        height: 50px;
        margin-top: 9px;
        border-radius: 30px;
        float: left;
        margin-left: 0px;
    }

    .datil-view {
        padding: 0px 5px 0px 0px;
    }

        .datil-view a {
            color: white;
            text-decoration: none;
            font-style: italic;
            float: right;
            cursor: pointer;
            margin-top: -7px;
        }

    .user-edit {
        margin-top: -22px;
    }

        .user-edit ul {
            list-style: none;
            padding: 0px;
        }

            .user-edit ul li {
                float: left;
                font-size: 12px;
                color: #6b6a6a;
            }

                .user-edit ul li:hover {
                    background: none !important;
                    color: #000 !important;
                }

    .co-info .co-hd {
        color: #088dc1;
        font-size: 15px;
        padding: 3px 0px 7px 13px;
        font-family: Segoe UI, Tahoma, Arial, Verdana;
        font-weight: 500;
    }
</style>
@*P end css*@
@*User details srt*@


<div id="UserDetails" class="flyout-sm  flyout ember-view cssdivclose" style="font-family:Calibri; display:none;width:400px">

    <div class="flyout-side aliceblue-bg">
        <div class="userpopupclass" style="width: 400px;">

            <span class="k-icon k-i-close userClose" onclick="UserDetailsClose()">

            </span>
            <div class="row ">
                <div class="col-md-11 main for-padding">
                    <div class="col-md-2" style="padding: 1px 0px 0px 0px;">
                        <img id="viewUserId" alt="ss" src="/Images/UserProfile/9.jpg" class="userAddImg">
                    </div>
                    <div class="col-md-10" style="padding: 5px 0px 0px 12px">

                        <p id="viewUserName" class="userdetailname">Amiley Burrow</p>
                        <i class="fa fa-envelope-o" style="font-size:11px;color:#fff;"></i>
                        <span id="viewUserMail" class="userAddName">amileyburrow45@dolna.co</span>

                        <div class="row user-edit">
                            <ul>
                                <li style="cursor:pointer" onclick="OpenEditResetUser()"><div id="liSingleResetUser" style="display:none;"> <i class="fa fa-key" style="color: #fc0;"></i>  <span> Reset Password</span></div></li>
                                <li style="margin-left:6px;cursor:pointer;" onclick="SingleShowDetails()"><div id="liSingleDeactivate" style="display:none;">  <i class="fa fa-ban" style="color: #e82404;"></i>  <span>Deactive</span></div> </li>
                                <li style="margin-left:6px;cursor:pointer;" onclick="SingleActivateDetails()"><div id="liSingleActivate" style="display:none;"> <i class="fa fa-ban" style="color: #e82404;"></i>  <span>Activate</span></div></li>
                                <li style="margin-left:6px;cursor:pointer" onclick="OpenEditUser()">  <div id="liSingleEditUser" style="display:none;"> <i class="fa fa-edit" style="color: #04c8e8;"></i>  <span>Edit User</span></div></li>
                                <li style="margin-left:6px;cursor:pointer"><div id="liSingleDetails"> <i class="fa fa-folder-open-o" style="color: #28c70b;" aria-hidden="true"></i><a style="text-decoration:none;" onclick="showdetails()">Detail View</a></div></li>
                                <input type="hidden" id="hiddenUserListId" name="user" value="" /> @*for GetROw Index*@
                                <input type="hidden" id="hiddenUserId" name="user" value="" /> @*For getUserId*@
                                <input type="hidden" id="hiddenRegId" name="user" value="" /> @*For getUserReg*@
                                <input type="hidden" id="hiddenMailId" name="user" value="" />@*For getMailId*@
                                <input type="hidden" id="hiddenIsSuperAdmin" name="user" value="" />@*For ChechSuperAdmin*@
                                <input type="hidden" id="clickval" value="0">
                            </ul>

                        </div>
                    </div>
                </div>


            </div>



        </div>
    </div>

    <div class="clear-fix"></div>
    <div class="user-pro">

        <div class="clearfix"></div>


        <div class="col-md-12 blog_content ">

            <div class="row">
                <div class="col-md-5">@Html.Label("Display Name")</div>
                <div class="col-md-7"><label id="lblDisplayName">Amiley Burrow</label></div>
            </div>


            <div class="row">
                <div class="col-md-5">@Html.Label("User Id")</div>
                <div class="col-md-7"><label id="lblEmailId">amileyburrow55@dolna.co</label></div>
            </div>

            <div class="row">
                <div class="col-md-5">@Html.Label("Sign in Status")</div>
                <div class="col-md-7"><label id="lblSigninStatus">Sign in allowed</label></div>
            </div>

            <div class="row">
                <div class="col-md-5">@Html.Label("Assigned Role")</div>
                <div class="col-md-7"><label id="lblAssignedRole">Global admin</label></div>
            </div>

            <div class="row">
                <div class="col-md-5">@Html.Label("Reporting Authority")</div>
                <div class="col-md-7"><label id="lblReportingAuthority"></label></div>
            </div>

        </div>
        <div class="col-md-12 blog_content">

            <div class="co-info">

                <div class="row co-hd">Contact Information</div>
                <div class="row">
                    <div class="col-md-5">@Html.Label("Mobile no")</div>
                    <div class="col-md-7"><label id="lblMobileNo" style="font-weight:normal">9876543210</label></div>
                </div>
                <div class="clearfix"></div>
                <div class="row">
                    <div class="col-md-5">@Html.Label("Address")</div>
                    <div class="col-md-7"><label id="lblAddress" style="font-weight:normal"></label></div>
                </div>




                <div class="clearfix"></div>
            </div>
            <div class="co-info">
                <div class="row co-hd">Login Activity</div>
                <div class="row" style="border-left: solid #c37e00;margin-left: 16px;margin-top:10px">
                    <div class="clearfix"></div>
                    <span style="width:150px;margin-left:5px">@Html.Label("First Access To Site")</span>
                    <div class="clearfix"></div>
                    <label id="lblFirstAccess" style="font-weight:normal;color:#777; font-size:11px;margin-left:5px">Sunday 17 june 2010</label>
                </div>
                <div class="row" style="border-left: solid #c37e00;margin-left: 16px;margin-top:10px">
                    <div class="clearfix"></div>
                    <span style="width:150px;margin-left:5px">@Html.Label("Last Access To Site")</span>
                    <div class="clearfix"></div>
                    <label id="lblLastAccess" style="font-weight:normal;color:#777; font-size:11px;margin-left:5px">Sunday 17 june 2015</label>
                </div>
            </div>
            <div class="co-info" id="AssignLicenceClick" style="display:none;">
                <div class="row co-hd">Product License</div>
                <div class="row" style="margin-left: 15px;">@Html.Label("No product have been assigned") <a href="#" onclick="assignnowclick()" style="font-style:italic;color:#057fb5;text-decoration:underline">Assign Now</a></div>
            </div>

            <div class="co-info" id="divProductAssigned" style="display:none;">
                <div class="row co-hd">Products Assigned</div>
                <div class="row" id="allProducts"></div>
            </div>
        </div>




        <div class="clearfix" style="margin-bottom:10px"></div>
        @*</div>*@
    </div>

    <div id="btnLoader" class="btnLoader" style="font-size: 6px;top: 428px;left: 155px;"></div>
</div>
<input id="hiddenrandom" value=@ViewBag.MyString hidden />
<script>


    function OpenEditDeactiveUser() {
        $("#deactivate").show();
        $(".overlay-clos").show();
        UserDetailsClose();
    }
    function OpenEditResetUser() {
        debugger;
        var reset = document.getElementById("resetpassword");
        reset.style.display = "block";
        $("#UserDetails").hide();
        // var viewUserId = $("#viewUserId").src;
        var name = $("#viewUserName").html();
        var email = $("#viewUserMail").html();
        $(".userdetailname").text(name);
        $(".userAddName").text(email);
        //   $(".userAddImg").attr("src", viewUserId);
        //$("#txtPassword").text(email);
        //$("#txtCPassword").text(email);
        document.getElementById("txtPassword").value = "";
        document.getElementById("txtCPassword").value = "";
        $("#radio_").prop("checked", true);
        $("#hideee").hide();
        $("#resetPwdFirst").show();
        $("#resetPwdInnerDiv").hide();


        document.getElementById("txtAutoPwd").value = document.getElementById("hiddenrandom").value;
        UserDetailsClose();
    }
    function showdetails() {
        // debugger;
        var id = document.getElementById("hiddenRegId").value;
        document.location = '@Url.Action("Index", "UserPersonalDetails",new {id = "ID"})'.replace("ID", id);
    }
    function ViewDetailsCard(e) {
        var reset = document.getElementById("btnLoader");
        reset.style.display = "block";
        //  document.getElementById("GetClassForSubscriptionType").className = null;
        $("#GetClassForSubscriptionType").removeClass();
        $("#GetClassForSubPlanSerialInv").removeClass();
        // document.getElementById("GetClassForSubPlanSerialInv").className = null;
        //
        if ($("#ember1033").is(":visible")) {
            $("#ember1033").hide();
        }
        $('input[type="checkbox"]:checked').prop('checked', false);
        debugger;
        var viewvalue = document.getElementById("diffView").value;
        var data;
        var index;
        var usertype;
        //if (data.Is_Cleint_Super_Admin == true)
        //   {
        //$("#liSingleActivate").hide();
        //$("#liSingleDeactivate").hide();
        //       $(".menulistcard1").appendTo($(e).closest("[id='list2']")).fadeIn();//.delay();
        //       $("#liDeactive").hide();
        //       $("#liBlocksignIn").hide();
        //   }
        //   else {
        //       $(".menulistcard1").appendTo($(e).closest("[id='list2']")).fadeIn();//.delay();
        //       $("#liDeactive").show();
        //       $("#liBlocksignIn").show();
        //   }
        if (viewvalue == "detail") {
            usertype = document.getElementById("UserType").value;
            var listview = $("#listView11").data("kendoListView");
            var item = $(e).closest("[role='option']");
            data = listview.dataSource.getByUid(item.data("uid"));
            // document.getElementById("hiddenIsSuperAdmin").value = data.User_EmailId;
            //if (usertype == "Deactivated User") {
            //    $("#liSingleDeactivate").hide();
            //    // $("#liSingleActivate").hide();

            //}
            //else if (usertype == "All User") {
            //    $("#liSingleDeactivate").hide();
            //    $("#liSingleActivate").hide();
            //}
            //else {

            //}
            if (data.Is_Cleint_Super_Admin == true) {
                document.getElementById("hiddenIsSuperAdmin").value = data.Is_Cleint_Super_Admin;
                $("#liSingleResetUser").show();
                $("#liSingleEditUser").show();
                $("#liSingleDeactivate").hide();
                $("#liSingleActivate").hide();
                $("#liSingleDetails").show();

            }
            else if (usertype == "All User") {
                if (data.Login_User_Status == "Deactive") {
                    $("#liSingleActivate").show();
                    $("#liSingleDeactivate").hide();
                    $("#liSingleResetUser").hide();
                    $("#liSingleEditUser").hide();
                    $("#liSingleDetails").hide();
                    document.getElementById("hiddenIsSuperAdmin").value = "";
                }
                else {
                    $("#liSingleActivate").hide();
                    $("#liSingleDeactivate").show();
                    $("#liSingleResetUser").show();
                    $("#liSingleEditUser").show();
                    $("#liSingleDetails").show();
                    document.getElementById("hiddenIsSuperAdmin").value = "";
                }


            }
            else if (usertype == "Active User") {
                $("#liSingleDeactivate").show();
                $("#liSingleActivate").hide();
                $("#liSingleResetUser").show();
                $("#liSingleEditUser").show();
                $("#liSingleDetails").show();
                document.getElementById("hiddenIsSuperAdmin").value = "";

            }
            else if (usertype == "Deactivated User") {
                $("#liSingleDeactivate").hide();
                $("#liSingleActivate").show();
                $("#liSingleResetUser").hide();
                $("#liSingleEditUser").hide();
                $("#liSingleDetails").hide();
                document.getElementById("hiddenIsSuperAdmin").value = "";


            }

            else if (usertype == "Blocked Sign in User") {
                if (data.Login_User_Status == "Deactive") {
                    $("#liSingleDeactivate").hide();
                    $("#liSingleActivate").show();
                    $("#liSingleResetUser").hide();
                    $("#liSingleEditUser").hide();
                    $("#liSingleDetails").hide();
                    document.getElementById("hiddenIsSuperAdmin").value = "";
                }
                else {
                    $("#liSingleDeactivate").hide();
                    $("#liSingleActivate").hide();
                    $("#liSingleResetUser").show();
                    $("#liSingleEditUser").show();
                    $("#liSingleDetails").show();
                    document.getElementById("hiddenIsSuperAdmin").value = "";
                }

            }
            else if (usertype = "Unlicensed User") {
                if (data.Login_User_Status == "Deactive") {
                    $("#liSingleDeactivate").hide();
                    $("#liSingleActivate").show();
                    $("#liSingleResetUser").hide();
                    $("#liSingleEditUser").hide();
                    $("#liSingleDetails").hide();
                    document.getElementById("hiddenIsSuperAdmin").value = "";
                }
                else {
                    $("#liSingleDeactivate").show();
                    $("#liSingleActivate").hide();
                    $("#liSingleResetUser").show();
                    $("#liSingleEditUser").show();
                    $("#liSingleDetails").show();
                    document.getElementById("hiddenIsSuperAdmin").value = "";
                }

            }

            else {
                $("#liSingleDeactivate").hide();
                $("#liSingleActivate").hide();
                $("#liSingleResetUser").show();
                $("#liSingleEditUser").show();
                document.getElementById("hiddenIsSuperAdmin").value = "";
            }
            index = item.index();
        }
        else if (viewvalue == "card") {
            // debugger;
            var usertype = document.getElementById("UserType").value;
            var listview1 = $("#listView12").data("kendoListView")
            var item = $(e).closest("[role='option']");
            data = listview1.dataSource.getByUid(item.data("uid"));
            if (data.Is_Cleint_Super_Admin == true) {
                $("#liSingleResetUser").show();
                $("#liSingleEditUser").show();
                $("#liSingleDeactivate").hide();
                $("#liSingleActivate").hide();
                $("#liSingleDetails").show();
                document.getElementById("hiddenIsSuperAdmin").value = data.Is_Cleint_Super_Admin;

            }
            else if (usertype == "All User") {
                if (data.Login_User_Status == "Deactive") {
                    $("#liSingleActivate").show();
                    $("#liSingleDeactivate").hide();
                    $("#liSingleResetUser").hide();
                    $("#liSingleEditUser").hide();
                    $("#liSingleDetails").hide();
                    document.getElementById("hiddenIsSuperAdmin").value = "";
                }
                else {
                    $("#liSingleActivate").hide();
                    $("#liSingleDeactivate").show();
                    $("#liSingleResetUser").show();
                    $("#liSingleEditUser").show();
                    $("#liSingleDetails").show();
                    document.getElementById("hiddenIsSuperAdmin").value = "";
                }


            }
            else if (usertype == "Active User") {
                $("#liSingleDeactivate").show();
                $("#liSingleActivate").hide();
                $("#liSingleResetUser").show();
                $("#liSingleEditUser").show();
                $("#liSingleDetails").show();
                document.getElementById("hiddenIsSuperAdmin").value = "";

            }
            else if (usertype == "Deactivated User") {
                $("#liSingleDeactivate").hide();
                $("#liSingleActivate").show();
                $("#liSingleResetUser").hide();
                $("#liSingleEditUser").hide();
                $("#liSingleDetails").hide();
                document.getElementById("hiddenIsSuperAdmin").value = "";


            }

            else if (usertype == "Blocked Sign in User") {
                if (data.Login_User_Status == "Deactive") {
                    $("#liSingleDeactivate").hide();
                    $("#liSingleActivate").show();
                    $("#liSingleResetUser").hide();
                    $("#liSingleEditUser").hide();
                    $("#liSingleDetails").hide();
                    document.getElementById("hiddenIsSuperAdmin").value = "";
                }
                else {
                    $("#liSingleDeactivate").show();
                    $("#liSingleActivate").hide();
                    $("#liSingleResetUser").show();
                    $("#liSingleEditUser").show();
                    $("#liSingleDetails").show();
                    document.getElementById("hiddenIsSuperAdmin").value = "";
                }

            }
            else if (usertype = "Unlicensed User") {
                if (data.Login_User_Status == "Deactive") {
                    $("#liSingleDeactivate").hide();
                    $("#liSingleActivate").show();
                    $("#liSingleResetUser").hide();
                    $("#liSingleEditUser").hide();
                    $("#liSingleDetails").hide();
                    document.getElementById("hiddenIsSuperAdmin").value = "";
                }
                else {
                    $("#liSingleDeactivate").show();
                    $("#liSingleActivate").hide();
                    $("#liSingleResetUser").show();
                    $("#liSingleEditUser").show();
                    $("#liSingleDetails").show();
                    document.getElementById("hiddenIsSuperAdmin").value = "";
                }

            }
            else {
                $("#liSingleDeactivate").hide();
                $("#liSingleActivate").hide();
                $("#liSingleResetUser").show();
                $("#liSingleEditUser").show();
                document.getElementById("hiddenIsSuperAdmin").value = "";
            }
            //if (data.Is_Cleint_Super_Admin == true || usertype == "Deactivated User") {
            //    $("#liSingleDeactivate").hide();

            //}
            //else {
            //    $("#liSingleDeactivate").show();
            //}
            index = item.index();
        }
        $("#lblAssignedRole").text("");

        $(".cssdivclose").hide();
        var reset = document.getElementById("UserDetails");
        reset.style.display = "block";
        document.getElementById("hiddenUserListId").value = index;
        document.getElementById("hiddenUserId").value = data.Tanent_UserListId;
        document.getElementById("hiddenRegId").value = data.User_RegistrationId;
        document.getElementById("hiddenMailId").value = data.User_EmailId;


        $("#viewUserId").attr("src", data.Uplaod_ImageURL);
        $("#viewUserName").text(data.User_First_Name + " " + data.User_Last_Name);
        $("#viewUserMail").text(data.User_EmailId);
        $(".userAddImg").attr("src", data.Uplaod_ImageURL);
        $("#lblDisplayName").text(data.User_DisplayName);
        $("#lblEmailId").text(data.User_EmailId);
        $("#lblMobileNo").text(data.User_MobileNo);
        $("#lblAddress").text(data.User_OfficeLocation);
        if (data.FirstAccess == null) {
            $("#lblFirstAccess").text("Till Not Logged In");
        }
        else {
            $("#lblFirstAccess").text(data.FirstAccess + " (" + data.GapFirstDate + ")");
        }
        if (data.FirstAccess == null) {
            $("#lblLastAccess").text("Till Not Logged In");
        }
        else {
            $("#lblLastAccess").text(data.LastAccess + " (" + data.GapLastDate + ")");
        }


        if (data.Is_Blocked_signIn == true || data.Login_User_Status == "Deactive") {
            $("#lblSigninStatus").text("SignIn Blocked");
            $('#lblSigninStatus').css("color", "red");

        }
        else {
            $("#lblSigninStatus").text("SignIn Allowed");

            $('#lblSigninStatus').css("color", "#000");

        }

        if (data.IsUserNoAdminstratorAccess == true) {
            $("#lblAssignedRole").text("No admin");
        }
        else {
            if (data.IsGlobalAdminStrator == true) {
                $('<span>Global Admin</span>').appendTo('#lblAssignedRole');
            }
            if (data.IsCustomizedAdminStrator == true) {
                if (data.Check_IsBillingAdmin == true) {
                    $('<span> Billing Admin</span>').appendTo('#lblAssignedRole');
                }
                else if (data.Check_IsPasswordAdmin == true) {
                    $('<span> Password Admin</span>').appendTo('#lblAssignedRole');
                }
                else if (data.Check_ServiceAdmin == true) {
                    $('<span> Service Admin</span>').appendTo('#lblAssignedRole');
                }
                else if (data.Check_UserManagementAdmin == true) {
                    $('<span> UserMgmt Admin</span>').appendTo('#lblAssignedRole');
                }

            }

        }

        $.ajax({
            type: "POST",
            url: "/ClientAdmin/UserList/GetReportingAuthorityById",

            data: { 'rid': data.ReportingAuthorityId },
            dataType: "json",
            contentType: 'application/x-www-form-urlencoded; charset=UTF-8',
            success: function (data1) {
                $("#lblReportingAuthority").text(data1.User_First_Name + " " + data1.User_Last_Name);
            }
        });
        if (data.Login_User_Status != "Deactive") {
            $.ajax({
                type: "POST",
                url: "/ClientAdmin/UserList/GetTanentUserLicencedListById",

                data: { 'rid': data.User_RegistrationId },
                dataType: "json",
                contentType: 'application/x-www-form-urlencoded; charset=UTF-8',
                success: function (data1) {
                    debugger;
                    var reset = document.getElementById("btnLoader");
                    reset.style.display = "none";
                    var coun = "";
                    for (var a = 0; a < data1.length; a++) {
                        $("#divProductAssigned").show();
                        //var myDate1 = new Date(parseInt((data1[a].ActiveDate).replace('/Date(', '')));
                        //var ActiveDate = myDate1.getDate() + "\/" + (myDate1.getMonth() + 1) + "\/" + myDate1.getFullYear()
                        coun = coun + "<p  class='list' style='font-size:14px;margin-left: 10px;margin-bottom: 4px;'>" + data1[a].ProductName + "</p>";
                        coun = coun + "<p  class='list' style='font-size:12px;margin-left: 15px;margin-bottom: 2px;'>SubscriptionPlanName:" + data1[a].SubscriptionPlanName + "</p>";
                        coun = coun + "<p  class='list' style='font-size:12px;margin-left: 15px;'>SubscriptionType:" + data1[a].SubscriptionType + "</p>";

                    }
                    if (data1.length > 0) {
                        coun = coun + "<input type='hidden' id='GetClassForSubPlanSerialInv' class='";
                        // var TotalNoOfData = data1.length;
                        //var x = document.getElementsByClassName("mystyle")[0].id;
                        //var y = document.getElementById("myDIV").className;  TanentLicenseSubscriptionId
                        for (var b = 0; b < data1.length; b++) {
                            coun = coun + data1[b].LIcenseSerialId + ',';
                        }
                        coun = coun + "' name='user' value='' />";
                        coun = coun + "<input type='hidden' id='GetClassForTanentLicenseSubId' class='";
                        // var TotalNoOfData = data1.length;
                        //var x = document.getElementsByClassName("mystyle")[0].id;
                        //var y = document.getElementById("myDIV").className;
                        for (var d = 0; d < data1.length; d++) {
                            coun = coun + data1[d].TanentLicenseSubscriptionId + ',';
                        }
                        coun = coun + "' name='user' value='' />";
                        coun = coun + "<input type='hidden' id='GetClassForSubscriptionType' class='";

                        for (var c = 0; c < data1.length; c++) {
                            coun = coun + data1[c].SubscriptionType + ',';
                        }
                        coun = coun + "' name='user' value='' />";
                        coun = coun + "<div class='row' style='margin-left: 15px;'><a href='#' onclick='assignnowclick()' style='font-style:italic;color:#057fb5;text-decoration:underline'>Assign Another License</a></div>";



                        $('#allProducts').html(coun);
                        $("#AssignLicenceClick").hide();
                    }
                    else {
                        $("#AssignLicenceClick").show();
                        $("#divProductAssigned").hide();
                    }

                }
            });
        }
        else {
            var reset = document.getElementById("btnLoader");
            reset.style.display = "none";
            $('#allProducts').html("");
            $("#AssignLicenceClick").hide();
        }





    }
    function Blockcard(e) {
        debugger;
        $('input[type="checkbox"]:checked').prop('checked', false);

        var viewvalue = document.getElementById("diffView").value;
        var data;
        var index;
        if (viewvalue == "card") {
            var listview1 = $("#listView12").data("kendoListView")
            var item = $(e).closest("[role='option']");
            data = listview1.dataSource.getByUid(item.data("uid"));
            index = item.index();
            document.getElementById("hiddenRegId").value = data.User_RegistrationId;
            document.getElementById("hiddenMailId").value = data.User_EmailId;
            // $("#SingleBlockSignIn").show();
            SingleBlockSignIn();

            // $(".overlay-clos").show();
        }
    }

    function DeactivateCard(e) {
        debugger;
        $('input[type="checkbox"]:checked').prop('checked', false);
        // debugger;
        var viewvalue = document.getElementById("diffView").value;
        var data;
        var index;
        if (viewvalue == "card") {
            var listview1 = $("#listView12").data("kendoListView")
            var item = $(e).closest("[role='option']");
            data = listview1.dataSource.getByUid(item.data("uid"));
            index = item.index();
            document.getElementById("hiddenMailId").value = data.User_EmailId;
            document.getElementById("hiddenRegId").value = data.User_RegistrationId;
            SingleShowDetails();
        }
    }
    function ResetPasswordCard(e) {
        debugger;
        $('input[type="checkbox"]:checked').prop('checked', false);
        var viewvalue = document.getElementById("diffView").value;
        var data;
        var index;
        if (viewvalue == "card") {
            var listview1 = $("#listView12").data("kendoListView")
            var item = $(e).closest("[role='option']");
            data = listview1.dataSource.getByUid(item.data("uid"));
            index = item.index();

            document.getElementById("hiddenUserListId").value = index;
            document.getElementById("hiddenUserId").value = data.Tanent_UserListId;
            document.getElementById("hiddenRegId").value = data.User_RegistrationId;
            $(".userAddImg").attr("src", data.Uplaod_ImageURL);
            $(".userdetailname").text(data.User_First_Name + " " + data.User_Last_Name);
            $(".userAddName").text(data.User_EmailId);
            OpenEditResetUser();
            var reset = document.getElementById("resetpassword");
            reset.style.display = "block";
        }
    }


    function UserDetailsClose() {
        var reset = document.getElementById("UserDetails");
        reset.style.display = "none";
    }
</script>
@*user details end*@

@*Resetmultipassword srt*@

<div id="Resetmultipassword" class="flyout-sm  flyout ember-view cssdivclose" style="display:none;">
    <div class="flyout-header aliceblue-bg" style="padding: 0px 0px;">
        <div style="background-color:cornflowerblue;height:40px;line-height: 3em;color: white;width: 400px;">
            <div style="width: 95%;margin-left: 10px;">
                <span>
                    <b style="font-size: 16px;font-family: Calibri;font-weight: 500;color:white">Reset Passwords</b>
                </span>

                <span class="k-icon k-i-close userClose" style="margin-top:10px;" onclick="multipasswordclose()">
                </span>
            </div>
        </div>
    </div>
    <div class="clear-fix"></div>
    <div class="user-pro">
        <div class="clearfix" style="margin-bottom:10px"></div>
        <div id="multirestpsw1">
            <div>
                <span style="font-size: 13px;font-family: Calibri;margin-left: 14px;">3 Users Selected</span>
            </div>
            <div style="margin-top: 15px;">
                <input type="checkbox" style="margin-left: 24px;" class="chkdet" id="" checked="checked" value="" @*onchange="onchange_checkbox()"*@ />
                <span style="font-size: 12px;font-family: Calibri;">Send passwords through mail</span>
            </div>
            <div>
                @(Html.Kendo().TextBox()
                            .Name("txtaddr")
                            .HtmlAttributes(new
                            {
                                placeholder = "",
                                required = "required",
                                validationmessage = "*",
                                maxlength = "50",
                                style = "height: 29px; width:312px;font-family:Calibri;font-size:12px;margin-left: 24px;margin-top: 4px;",
                                @class = "form-control col-xs-2"
                            })

                )
            </div>
            <div class="row"><span style="font-size: 11px;font-family: Calibri;margin-left:25px;color:grey;">Enter separate multiple address(up to 4)with semicolons.</span></div>
            <div style="margin-left: 24px;margin-top: 23px;">
                <li style="list-style: none;font-size:13px;font-family:Calibri;color:black">
                    @(Html.Kendo()
                          .RadioButton()
                          .Name("radio5")
                          .Checked(true)
                          .HtmlAttributes(new { @name = "engine" })
                            .Label("Make the selected users change their own passwords after their first login"))
                </li>
            </div>

            @*<div style="margin-top: 350px;margin-left: 220px;">*@
            <div style="position: fixed;top: 45em;margin-left: 190px">

                @(Html.Kendo().Button()
        .Name("resbtn")
        .HtmlAttributes(new { type = "button", @class = "k-primary", style = "height:29px;width:90px;background-color:cornflowerblue;margin-right: 0px;font-size: 14px;border:1px solid cornflowerblue;" })
        .Content("Reset")
            .Events(ev => ev.Click("rstbtn"))
                )

                @(Html.Kendo().Button()
        .Name("canclbtn")
        .HtmlAttributes(new { type = "button", @class = "k-primary", style = "height:29px;width:80px;background-color:lightgray;color:black;font-size: 14px;border:1px solid lightgray;" })
        .Content("Cancel")
            .Events(e => e.Click("canclbtn"))

                )


            </div>
        </div>
        <div id="multirestpsw2" style="display:none; font-family:Calibri;">
            <div id="innermulpasword"></div>
            <div style="position:fixed;top:45em;margin-left:190px;">

                @(Html.Kendo().Button()
        .Name("fnsbtn3")
        .HtmlAttributes(new { type = "button", @class = "k-primary ", style = "height:29px;width:90px;background-color:cornflowerblue;margin-right: 0px;margin-bottom:0px;font-size: 15px;display:inline;border:1px solid cornflowerblue;padding: 1px 3px 2px;" })
        .Content("Finish")
               .Events(ev => ev.Click("btnFinish"))
                )
                @(Html.Kendo().Button()
        .Name("btnMulPwdClose")
        .HtmlAttributes(new { type = "button", @class = "k-primary ", style = "height:29px;width:80px;background-color:cornflowerblue;margin-right: 0px;font-size: 15px;display:inline;padding:2px 10px;color: black;border: 1px solid lightgray;background: lightgray; " })
.Content("Cancel")
                // .Events(ev => ev.Click("btnCloseMulPwd"))
                )


            </div>

        </div>
    </div>
</div>

<script>
    function multipasswordclose() {

        var reset = document.getElementById("Resetmultipassword");
        reset.style.display = "none";

    }

    function canclbtn() {
        var reset = document.getElementById("Resetmultipassword");
        reset.style.display = "none";
    }
    function clbtn() {
        var reset = document.getElementById("Resetmultipassword");
        reset.style.display = "none";
        $('#txtaddr').val("");
        document.getElementById("innermulpasword").innerHTML = "";
    }

    function btnFinish() {
        debugger;
        var reset = document.getElementById("Resetmultipassword");
        reset.style.display = "none";
        var reset = document.getElementById("multirestpsw2");
        reset.style.display = "none";
    }


</script>
<script>
    //Multi Reset Password
    function ResetPswddlclick() {
        debugger;
        var viewvalue = document.getElementById("diffView").value;
        var someObj = {};

        var count = 0;
        someObj.fruitsDetail = [];
        someObj.fruitsCard = [];
        if (viewvalue == "detail") {
            $(".chklistview:checkbox:checked").each(function () {
                count = count + 1;
                someObj.fruitsDetail.push($(this).attr("id"));
            });
        }
        else {
            $(".chklist:checkbox:checked").each(function () {
                count = count + 1;
                someObj.fruitsCard.push($(this).attr("id"));
            });
        }


        if (count > 4) {
            alert("You cant choose mote than 4");
            count = 0;
            var reset = document.getElementById("Resetmultipassword");
            reset.style.display = "none";
            $('#txtaddr').val("");


            return false;
        }
        else {
            if (viewvalue == "detail") {
                var reset = document.getElementById("Resetmultipassword");
                reset.style.display = "block";
                var reset = document.getElementById("multirestpsw1");
                reset.style.display = "block";
                var reset = document.getElementById("multirestpsw2");
                reset.style.display = "none";
                document.getElementById("innermulpasword").innerHTML = "";

                $('#txtaddr').val(someObj.fruitsDetail);
            }
            else {
                var reset = document.getElementById("Resetmultipassword");
                reset.style.display = "block";
                var reset = document.getElementById("multirestpsw1");
                reset.style.display = "block";
                var reset = document.getElementById("multirestpsw2");
                reset.style.display = "none";
                document.getElementById("innermulpasword").innerHTML = "";
                $('#txtaddr').val(someObj.fruitsCard);
            }
        }


    };

    function rstbtn() {
        debugger;
        var listmail = $('#txtaddr').val();
        $.ajax({
            type: "POST",
            url: "/UserList/MultipleResetPassword",
            data: { maildata: listmail },
            dataType: "json",
            contentType: 'application/x-www-form-urlencoded; charset=UTF-8',
            success: function (data1) {
                debugger;
                var str = null;
                $('#multirestpsw2').show();
                $('#multirestpsw1').hide();
                jQuery.each(data1, function (i, val) {
                    if (val != null) {
                        str = val + "," + str;
                    }
                })
                $.ajax({
                    type: "POST",
                    url: "/UserList/ShowMailPic",
                    data: { emailid: str },
                    dataType: "json",
                    contentType: 'application/x-www-form-urlencoded; charset=UTF-8',
                    success: function (data2) {
                        debugger;
                        $("#innermulpasword").append("");
                        var coun = "";
                        $('#multirestpsw2').show();
                        $('#multirestpsw1').hide();
                        for (var a = 0; a < data2.length; a++) {
                            var imgurl = data2[a][0].Uplaod_ImageURL;
                            coun = coun + "<div class='row' style='margin-top: 22px;'><div class='col-md-9'><div style='float:left;'><img src=" + imgurl + " width=40 height=40 style='border-radius: 50%;margin-top: -6px;'/></div><div style='line-height: 13px;'><span style='font-size: 12px;display:inline-block;margin-left: 8px;'>" + data2[a][0].User_First_Name + " " + data2[a][0].User_Last_Name + "</span><br/><span style='font-size: 11px;margin-left: 9px;'>" + data2[a][0].User_EmailId + "</span></div></div><div class='col-md-3' style='margin-top: 9px;'><span style='margin-left: 14px;'>**********</span></div></div>";

                        }
                        $("#innermulpasword").append(coun);
                    },
                    error: function () {
                        alert("Error occured!")
                    }
                });
            },
            error: function () {
                alert("Error occured!")
            }
        });
    }
    function Singlerstbtn() {
        debugger;
        var uname = $('.userdetailname').html();
        var mail = $(".userAddName").html();
        var password;
        var button1 = document.getElementById("radio_");
        var button2 = document.getElementById("radio2_");
        if (button1.checked) {


            password = document.getElementById("txtAutoPwd").value;

            $.ajax({
                type: "POST",
                url: "/UserList/SingleResetPassword",
                data: { "maildata": mail, "password": password },
                dataType: "json",
                contentType: 'application/x-www-form-urlencoded; charset=UTF-8',
                success: function (data1) {
                    debugger;
                    var reset = document.getElementById("resetPwdFirst");
                    reset.style.display = "none";
                    $("#resetPwdInnerDiv").show();
                    $('#divRPWUserId').html(mail);
                    $('#divRPWPassword').html(password);

                },
                error: function () {
                    alert("Error occured!")
                }
            });
        }
        else {
            var password = document.getElementById("txtPassword").value;
            var rePassword = document.getElementById("txtCPassword").value;
            if (password != rePassword) {
                //rstbtnSingle
                $('#rstbtnSingle1').prop('disabled', true);

            }
            else {
                $.ajax({
                    type: "POST",
                    url: "/UserList/SingleResetPassword",
                    data: { "maildata": mail, "password": password },
                    dataType: "json",
                    contentType: 'application/x-www-form-urlencoded; charset=UTF-8',
                    success: function (data1) {
                        debugger;
                        var reset = document.getElementById("resetPwdFirst");
                        reset.style.display = "none";
                        $("#resetPwdInnerDiv").show();
                        $('#divRPWUserId').html(mail);
                        $('#divRPWPassword').html(password);

                    },
                    error: function () {
                        alert("Error occured!")
                    }
                });
                $('#rstbtnSingle1').prop('disabled', false);

            }

        }

    }
</script>
@*Resetmultipassword end*@
<script>

    $("input[name=singlePwdRadio]:radio").change(function () {
        debugger;
        if (this.id == 'radio_') {
            $('#rstbtnSingle1').prop('disabled', false);
            $('#hideee').hide();
            $('#txtAutoPwd').attr('readonly', false);
            $('#txtAutoPwd').addClass('input-enabled');

            $("#txtPassword").kendoValidator().data("kendoValidator").hideMessages();
            $("#txtCPassword").kendoValidator().data("kendoValidator").hideMessages();
            document.getElementById("txtPassword").value = "";
            document.getElementById("txtCPassword").value = "";
            //  $('.k-space-right').hide();
            $("#hideErrorMsg").hide();
            $(".k-i-checkmark").hide();
        }
        else {
            $('#hideee').show();
            $('#message').hide();
            $('#txtAutoPwd').attr('readonly', true);
            $('#txtAutoPwd').addClass('input-disabled');
            var password = document.getElementById("txtPassword").value;
            var rePassword = document.getElementById("txtCPassword").value;
            if (password != rePassword) {

                $('#txtCPassword_validationMessage').show();
                $('#rstbtnSingle1').prop('disabled', true);
            }
            else if (password == "" && rePassword == "") {
                // $('#txtCPassword_validationMessage').show();
                $('#rstbtnSingle1').prop('disabled', true);
            }

        }


    })
</script>


@*productlicence srt*@

<style>
</style>

<div id="productlicence" class="flyout-sm  flyout ember-view cssdivclose" style="display:none;width:408px; overflow-x: hidden;overflow-y: scroll;">
    <div class="flyout-side aliceblue-bg">
        <div class="userpopupclass" style="width: 408px;">
            <span class="k-icon k-i-close userClose" onclick="productlicenceclose()">

            </span>
            <div class="row">
                <div class="main">
                    <img alt="ss" src="" class="userAddImg">
                </div>
                <div style="margin-left: 75px;height: 41px;">
                    <p class="userdetailname">Amiley Burrow</p>
                    <i class="fa fa-envelope-o faicon usermail" style="font-size:11px;"></i>
                    <span class="userAddName">amileyburrow45@dolna.co</span>
                </div>
            </div>
        </div>


        <div class="clear-fix"></div>
        <div class="user-pro">
            <div class="section" style="margin-top: 25px">
                <h5 style="color:#787878;margin-left: 15px;">Product License</h5>
                <div>
                    <ul class="hov1" style="line-height: 1em;margin-left: -25px;">
                        <h3 style="margin-right: 30px;"></h3>
                        <div id="kenrec1">

                            <li style="list-style: none;font-weight: normal;font-size: 12px; line-height: 1.1em;padding: 4px 1em;">
                            </li>
                        </div>

                        @*<ul class="fieldlist" id="prolist">
                                <li style="font-size:10px;padding: 3px 1em;color: black;">
                                    @(Html.Kendo().CheckBox().Name("eq1").HtmlAttributes(new { @name = "Proc" }).Label("Recruitment Management"))
                                </li>
                                <li style="font-size:10px;padding: 3px 1em;color: black;">
                                    @(Html.Kendo().CheckBox().Name("eq2").HtmlAttributes(new { @name = "Proc" }).Label("Payroll Management"))
                                </li>
                                <li style="font-size:10px;padding: 3px 1em;color: black;">
                                    @(Html.Kendo().CheckBox().Name("eq3").HtmlAttributes(new { @name = "Proc" }).Label("Leave Management"))
                                </li>
                                <li style="font-size:10px;padding: 3px 1em;color: black;">
                                    @(Html.Kendo().CheckBox().Name("eq4").HtmlAttributes(new { @name = "Proc" }).Label("Employee Management"))
                                </li>
                                <li style="font-size:10px;padding: 3px 1em;color: black;">
                                    @(Html.Kendo().CheckBox().Name("eq5").HtmlAttributes(new { @name = "Proc" }).Label("User Management"))
                                </li>
                            </ul>*@


                        @*<h3 style="margin-right: 30px;margin-top: 1px;">
                                <li style="list-style: none;font-weight: normal;font-size: 12px; line-height: 1.1em;padding: 2px 1em;">
                                    <p class="list" style="font-size:14px;">KENRelation Enterprise Edition</p>
                                    <p class="list" style="font-size: 13px;">25 of 50 license availabe</p>
                                </li>
                            </h3>
                            <h3 style="margin-right: 30px;margin-top: 1px;">
                                <li style="list-style: none;font-weight: normal;font-size: 12px; line-height: 1.1em;padding: 2px 1em;">
                                    <p class="list" style="font-size:14px;">KENMoney Basic Edition</p>
                                    <p class="list" style="font-size: 13px;">9 of 10 license availabe</p>
                                </li>
                            </h3>*@
                    </ul>
                </div>

                <div class="clearfix" style="margin-bottom:10px"></div>


            </div>

            <div class="clearfix" style="margin-bottom:10px"></div>
        </div>
        <div class="clearfix hyt10"></div>


    </div>
    @*<input type="hidden" id="hiddenLicensekey" name="user" value="" />
        <input type="hidden" id="hiddenLicenseSerialId" name="user" value="" />
        <input type="hidden" id="hiddenProductName" name="user" value="" />
        <input type="hidden" id="hiddenSubscriptionAssignId" name="user" value="" />*@
    <div style="margin-top: 60px;margin-left: 15px;">
        @*<button class="btn btn-default  pull-right btn-ovdd-cnl" type="reset" style="width:28%;">Cancel</button>
            <button class="btn btn-primary pull-right btn-ovdd" type="submit" style="width:28%;">Save</button>*@
        <div class="col-md-4 for-Leftpadding-zero">
            <button value="SaveSubscription" class="k-primary add-btn-prod" type="submit" style="" id="btnAddSub" onclick="AddSubscriptionClick()">Save</button>
        </div>
        <div class="col-md-4 for-Leftpadding-zero">
            <button value="cancelSubscription" class="k-primary cancel-btn-prod" type="reset" style="" onclick="productlicenceclose()">Cancel</button>
        </div>
        @*<button value="SaveSubscription" class="btn k-button" style="width:20%" onclick="AddSubscriptionClick()">Save</button>
            <button value="cancelSubscription" class="btn k-button" style="width:20%" onclick="CancelSubscriptionClick()">Cancel</button>*@
    </div>
</div>

<script>
    function productlicenceclose() {

        var reset = document.getElementById("productlicence");
        reset.style.display = "none";

    }
    function assignnowclick() {

        var reset = document.getElementById("productlicence");
        reset.style.display = "block";
        $(".fieldlist").hide();
        getTanentDetails();
        var reset = document.getElementById("UserDetails");
        reset.style.display = "none";
        //  ImgForAddLicense NameForAddLicense  MailAddLicense
    }
    $('#mainLicense').click(function () {
        debugger;
        $('#prolist').toggle();
    });
    //$('#mainLicense').click(function () {
    //    debugger;
    //    $('#prolist', this).toggle();
    //});
    //function ModifyCheckBoxes(Id) {
    //    if (document.getElementById(Id).checked) {
    //        if (Id == "ilPremium") {
    //            document.getElementById("ilPremium").checked = false;
    //        } else if (Id == "ilStandard") {
    //            document.getElementById("ilStandard").checked = false;
    //        }
    //        else if (Id == "ilLowerFunction") {
    //            document.getElementById("ilLowerFunction").checked = false;
    //        } else if (Id == "ELVisitor") {
    //            document.getElementById("ELVisitor").checked = false;
    //        }
    //    };
    //};




    function getTanentDetails() {
        debugger;
        //  ImgForAddLicense ImgForAddLicense  MailAddLicense
        //var name = $("#viewUserName").html();
        //var email = $("#viewUserMail").html();
        //$(".userdetailname").text(name);
        //$(".userAddName").text(email);
        //   $(".viewUserId").attr("src", viewUserId);
        $(".userdetailname").text($("#viewUserName").html());
        $(".userAddName").text($("#viewUserMail").html());

        var imgval = $("#viewUserId").src;
        $(".userAddImg").attr("src", imgval);
        var LicenceArraySubPlanInv = "";
        var LicenceArraySubscriptionType = "";
        var LicenseArrayTanentUserLicenseSub = "";
        //coun = coun + "<input type='hidden' id='GetClassForSubPlanSerialInv' class='";
        //// var TotalNoOfData = data1.length;
        //$("#AssignLicenceClick").show();
        //$("#divProductAssigned").hide();
        ////var x = document.getElementsByClassName("mystyle")[0].id;
        if ($('#AssignLicenceClick').css('display') == 'none') {
            LicenceArraySubPlanInv = document.getElementById("GetClassForSubPlanSerialInv").className;
            LicenceArraySubscriptionType = document.getElementById("GetClassForSubscriptionType").className;
            LicenseArrayTanentUserLicenseSub = document.getElementById("GetClassForTanentLicenseSubId").className;
        }
        else {
            LicenceArraySubPlanInv = "";
            LicenceArraySubscriptionType = "";
            LicenseArrayTanentUserLicenseSub = "";
        }


        //$("#GetClassForSubscriptionType").removeClass();
        //$("#GetClassForSubPlanSerialInv").removeClass();
        //for (var b = 0; b < data1.length; b++) {
        //    coun = coun + data1[b].LIcenseSerialId + ' ';
        //}
        //coun = coun + "' name='user' value='' />";   <div id="btnLoader" class="btnLoader" style="top: 28%;font-size: 5px;left: 74%;"></div>
        $('#kenrec1').html("<div id='btnLoader' class='btnLoader' style='top:25%;font-size: 4px;left: 50%;'></div>");

        $.ajax({
            type: "POST",
            url: "/UserList/GetLicenseSubscription",
            //data: { "maildata": mail, "password": password },
            dataType: "json",
            contentType: 'application/x-www-form-urlencoded; charset=UTF-8',
            success: function (data1) {
                debugger;
                // var regId = document.getElementById("hiddenRegId").value;
                //var Licensekey = document.getElementById("hiddenLicensekey").value;
                //var LicenseSerialId = document.getElementById("hiddenLicenseSerialId").value;
                //var SubscriptionAssignId = document.getElementById("hiddenSubscriptionAssignId").value;
                var coun = "";
                for (var a = 0; a < data1.length; a++) {
                    var myDate1 = new Date(parseInt((data1[a].ActiveDate).replace('/Date(', '')));
                    var ActiveDate = myDate1.getDate() + "\/" + (myDate1.getMonth() + 1) + "\/" + myDate1.getFullYear()
                    coun = coun + " <li id='mainLicense' class='mailLicenseClass'><p  class='list' style='font-size:14px;'>" + data1[a].ProductName + "</p> <p class='list' style='font-size:13px;'>" + data1[a].TotalLicenseUsed + " of " + data1[a].TotalLicensedUsers[0].TotalSLAndLF + " license Used</p></li><div style='margin-left: 40px;'><ul class='fieldlist' id='prolist'>";
                    // coun = coun + "<li  style='font-size:10px;padding: 3px 1em;color: black;'><input type='radio' name='" + data1[a].ProductId + "' id='ILPremium_" + data1[a].SubscriptionPlan_Serial_Inventory_Id + "' class='k-radio'><label class='k-radio-label' for='ILPremium_" + data1[a].SubscriptionPlan_Serial_Inventory_Id + "'>ILPremium</label></li>"
                    coun = coun + "<li  style='font-size:10px;padding: 3px 1em;color: black;'><input type='radio' name='" + data1[a].ProductId + "' id='ILStandard_" + data1[a].SubscriptionPlan_Serial_Inventory_Id + "' class='k-radio'><label class='k-radio-label' for='ILStandard_" + data1[a].SubscriptionPlan_Serial_Inventory_Id + "'>ILStandard</label></li>"
                    coun = coun + "<li  style='font-size:10px;padding: 3px 1em;color: black;'><input type='radio' name='" + data1[a].ProductId + "' id='ILLowerFunction_" + data1[a].SubscriptionPlan_Serial_Inventory_Id + "' class='k-radio'><label class='k-radio-label' for='ILLowerFunction_" + data1[a].SubscriptionPlan_Serial_Inventory_Id + "'>ILLowerFunction</label></li>"
                    //coun = coun + "<li  style='font-size:10px;padding: 3px 1em;color: black;'><input type='radio' name='" + data1[a].ProductId + "' id='ELVisitor_" + data1[a].SubscriptionPlan_Serial_Inventory_Id + "' class='k-radio'><label class='k-radio-label' for='ELVisitor_" + data1[a].SubscriptionPlan_Serial_Inventory_Id + "'>ELVisitor</label></li></ul></div>"
                    coun = coun + "<input type='hidden' class='" + data1[a].SubscriptionPlan_Serial_Inventory_Id + "' id=" + data1[a].LicenseKeys + "_" + data1[a].LicenseSerialId + "_" + data1[a].SubscriptionAssignId + "_" + ActiveDate + "_" + data1[a].SubscriptionPlanId + "_" + data1[a].ProductId + " name='user' value='' />"
                }

                $('#kenrec1').html(coun);

                if (LicenceArraySubPlanInv != "" && LicenceArraySubscriptionType != "" && LicenseArrayTanentUserLicenseSub != "") {
                    debugger;
                    var x1 = new Array();
                    x1 = LicenceArraySubPlanInv.split(",");
                    var x2 = new Array();
                    x2 = LicenceArraySubscriptionType.split(",");
                    var x3 = new Array();
                    x3 = LicenseArrayTanentUserLicenseSub.split(",");
                    for (var x = 0; x < x1.length - 1; x++) {
                        for (var y = x; y <= x; y++) {
                            var InvId = x1[x];
                            var SubType = x2[y];
                            var UserSubLicense = x3[y];
                            var totalId = "#" + SubType + "_" + InvId;
                            //  var RadioId=
                            $(totalId).prop("checked", true);

                            var attr = 'data-val';
                            var img = 'update_' + UserSubLicense;
                            var GetIdToBindAttr1 = "#ILStandard_" + InvId;
                            var GetIdToBindAttr2 = "#ILLowerFunction_" + InvId;
                            $(GetIdToBindAttr1).attr(attr, img);
                            $(GetIdToBindAttr2).attr(attr, img);

                            //var nameqq = $(totalId).data("name");
                            // var nameqq = $(totalId).attr("name");
                            //$(totalId).attr(attr, img);
                            // $(totalId).data('winWidth', true);
                            //var IsSuperAdmin = document.getElementById("hiddenIsSuperAdmin").value;
                            //if(IsSuperAdmin=="true")
                            //{
                            //    var ilprem = '#ILPremium_' + InvId;
                            //    var ilStand = '#ILStandard_' + InvId;
                            //    var ilLower = '#ILLowerFunction_' + InvId;
                            //    var elVisitor = '#ELVisitor_' + InvId;
                            //    $(ilprem).prop("disabled", true);
                            //    $(ilStand).prop("disabled", true);
                            //    $(ilLower).prop("disabled", true);
                            //    $(elVisitor).prop("disabled", true);
                            //}

                            //disabled="disabled"
                        }
                    }
                    //var subscriptionType = x1[0];
                    //var SubscriptionPlan_Serial_Inventory_Id = x1[1];
                }

            },
            error: function () {
                alert("Error occured!")
            }
        });
    }

    //$('#kenrec1').click(function () {
    //    debugger;
    //    //if ($("input:radio.subscrption1:checked")) {
    //    var selected = $(".k-radio.subscrption1 input[type='radio']:checked");
    //        //if ($(this).is(":checked")) {
    //        //    someObj.fruitsGranted.push($(this).attr("id"));
    //        //} else {
    //        //    someObj.fruitsDenied.push($(this).attr("id"));
    //        //}subscrption1
    //        var color = $("input:radio:checked").val();
    //        alert(color);
    //    //}
    //});


    //$("input[name=subscrption1]:radio").change(function () {
    //   debugger;
    //   var xz = this.value;
    //    //if (this.value == 'LetMePsw') {
    //    //    //alert("LetMe Success");

    //    //    $(".passwordHidden").css("display", "block");
    //    //    $(".autopsw").css("display", "none");
    //    //    //$("input[type=submit] ").attr("disabled", "disabled");
    //    //    $(':input[type="submit"]').prop('disabled', true);

    //    //    $("#chkk1").hide();
    //    //    $("#chkk2").hide();
    //    //    $("#chkk3").hide();
    //    //    $("#chkk4").hide();
    //    //    $("#chkk5").hide();
    //    //    $("#confmpsd").hide();

    //    //}
    //    //else {
    //    //    $(".passwordHidden").css("display", "none");
    //    //    $(".autopsw").css("display", "block");
    //    //    $(':input[type="submit"]').prop('disabled', false);
    //    //}


    //})
    $('#kenrec1').on("change", "input[type='radio']", function () {
        debugger;
        var ids = this.id;
        var y1 = new Array();
        y1 = ids.split("_");
        var SubType = y1[0]
        var chechboxid = '#' + ids;
        $.ajax({
            type: "POST",
            url: "/UserList/CalRemainSubscription",
            data: { "SubscriptionTypeAndPlanId": ids },
            dataType: "json",
            contentType: 'application/x-www-form-urlencoded; charset=UTF-8',
            success: function (data1) {
                // var regId;
                debugger;
                if (data1 == 0) {
                    $(chechboxid).prop("checked", false);
                    alert(SubType + " is not available.")
                }
                else {

                }
                // var regId = document.getElementById("hiddenRegId").value;



            },
            error: function () {
                alert("Error occured!")
            }
        });
        //switch (str1) {
        //    case ilPremium:

        //        break;
        //    case ilStandard:
        //        text = "Today is Sunday";
        //        break;
        //    case ilLowerFunction:
        //        text = "Today is Sunday";
        //        break;
        //    case ELVisitor:
        //            text = "Today is Sunday";
        //            break;
        //}

    });
    function AddSubscriptionClick() {
        debugger;
        var regId = document.getElementById("hiddenRegId").value;
        //var Licensekey = document.getElementById("hiddenLicensekey").value;
        //var LicenseSerialId = document.getElementById("hiddenLicenseSerialId").value;
        //var SubscriptionAssignId = document.getElementById("hiddenSubscriptionAssignId").value;
        $("#kenrec1 input:radio:checked").each(function () {
            debugger;

            // $(".select:checked").each(function(){
            var id = $(this).attr("id");
            var x1 = new Array();
            x1 = id.split("_");
            var subscriptionType = x1[0];
            var SubscriptionPlan_Serial_Inventory_Id = x1[1];
            //var subscriptionType = id.split("_")[0];
            //var SubscriptionPlan_Serial_Inventory_Id = id.split("_")[1];
            var items = document.getElementsByClassName(SubscriptionPlan_Serial_Inventory_Id);
            var itemid = items[0].id;
            var x2 = new Array();
            x2 = itemid.split("_");
            var licenseKeys = x2[0];
            var LicenseSerialId = x2[1];
            var subscriptionAssignId = x2[2];
            var activationDate = x2[3];
            var subscriptionPlanId = x2[4];
            //var id = $(this).data('data-val');
            //$(totalId).data('winWidth', true);
            var aatrrtid = '#' + id;
            var getUpdateAttrValue = new Array();
            var valueofDynamivAttri = $(aatrrtid).attr('data-val');
            if (valueofDynamivAttri != undefined) {
                getUpdateAttrValue = valueofDynamivAttri.split('_');
            }
            if (getUpdateAttrValue[0] == 'update') {
                var getTanentUserLicSub = getUpdateAttrValue[1];
                $.ajax({
                    type: "POST",
                    url: "/UserList/UpdateLicenseAndSubscription",
                    data: { "TanentUserLicenseSubId": getTanentUserLicSub, "subscriptionType": subscriptionType, "activeDate": activationDate, "subscriptionPlanId": subscriptionPlanId },
                    dataType: "json",
                    contentType: 'application/x-www-form-urlencoded; charset=UTF-8',
                    success: function (data1) {
                        var reset = document.getElementById("productlicence");
                        reset.style.display = "none";


                    },
                    error: function () {
                        alert("Error occured!")
                    }
                });
            }
            else {

                $.ajax({
                    type: "POST",
                    url: "/UserList/SaveLicenseAndSubscription",
                    data: { "subscriptionType": subscriptionType, "licenseKeys": licenseKeys, "LicenseSerialId": LicenseSerialId, "subscriptionAssignId": subscriptionAssignId, "regId": regId, "subscriptionPlanId": subscriptionPlanId, "activationDate": activationDate },
                    dataType: "json",
                    contentType: 'application/x-www-form-urlencoded; charset=UTF-8',
                    success: function (data1) {
                        var reset = document.getElementById("productlicence");
                        reset.style.display = "none";


                    },
                    error: function () {
                        alert("Error occured!")
                    }
                });
            }

        });
    }

    //$("input[name=subscrption1]:radio").change(function () {
    //    debugger
    //    if ($("#rdoAuto1").prop("checked") == true) {

    //        document.getElementById("addnewpassword").value = "";
    //        document.getElementById("addconfirmPsw").value = "";
    //        $(".ValidationForRepwd").hide();
    //        document.getElementById("hideChecks").style.display = "none";
    //    }
    //})

    //function checksingle(ele) {
    //    debugger;
    //    //var checkedState = $(ele).prop("checked")
    //    //$(this).parent('div')
    //    //$(this).children('.checkbox:checked')
    //    //$(this).prop("checked", false);
    //    //$("input.checkBox").prop("checked", false);
    //    //$(this).prop("checked", checkedState);
    //    var state = $(ele).is(':checked');
    //    if (state == true) {
    //        $(this).prop('checked', true);

    //    }
    //    else {
    //        $(this).prop('checked', false);
    //    }
    //    $("checkbox").not(this).prop('checked',false);
    //}
</script>
<style>
    .mailLicenseClass {
        list-style: none;
        font-weight: normal;
        font-size: 12px;
        line-height: 1.1em;
        padding: 4px 1em;
        cursor: pointer;
    }
</style>
@*productlicence end*@

@*Addmembership srt  anita*@
<div id="Addmembership" class="flyout-sm  flyout ember-view cssdivclose" style="width:400px;">


    <div class="flyout-side aliceblue-bg">
        <div class="userpopupclass" style="width: 400px;">
            <span onclick="membershipclose()" class="k-icon k-i-close userClose">

            </span>
            <div class="row">
                <div class="main">
                    <img alt="ss" src="/Images/UserProfile/9.jpg" class="userAddImg">
                </div>
                <div style="margin-left: 75px;height: 41px;">
                    <p class="userdetailname">Amiley Burrow</p>
                    <i class="fa fa-envelope-o faicon usermail"></i>
                    <span class="userAddName">amileyburrow45@dolna.co</span>

                </div>
            </div>
        </div>
    </div>
    <div class="clear-fix"></div>
    <div class="user-pro">

        <div class="clearfix" style="margin-bottom:10px"></div>
        <div class="xtxtx" style="margin-left:10px">
            <p> Group Membership</p>
            <p>Add Membership</p>
            <section>
                <span>
                    @(Html.Kendo().AutoComplete()
          .Name("customers")
          .DataTextField("UserName")

          .DataSource(source =>
          {
              source.Read(read =>
              {
                  read.Action("BindAuto", "UserList");
              });
          })
       .Events(a => a.Select("Addselectedmember"))
       .Template("<span class='adddivcircle'>#: data.UserName.substring(0,1) #</span>" + "<span style='margin-left: 5px;'>#: data.UserName #</span>")
                    )
                </span>
                <span>
                    <input type="hidden" id="memberid" />
                    <button value="add" class="btn k-button" style="width:20%" onclick="Addmembershiplist()">Add</button>
                </span>
            </section>
            <div id="memberdiv"></div>
            <section>
                <button value="Save" class="btn k-button" style="width:20%" onclick="Addmembershiplist1()">Save</button>
                <button value="cancel" class="btn k-button" style="width:20%" onclick="Cancelmembershiplist1()">Cancel</button>
            </section>
        </div>

    </div>
</div>
<script>
    function Cancelmembershiplist1() {

    }
    function Addmembershiplist1() {
        var body = document.getElementById("addmembership_div")
        body.innerHTML = "";

        for (var i = 0; i < listmember.length; i++) {
            var spanremove = document.createElement("span");
            spanremove.onclick = cancelselection1;
            spanremove.id = i;
            spanremove.innerHTML = ' x';
            var xxx = document.createTextNode(listmember[i]);
            var xxx1 = document.createTextNode(" ,");
            body.appendChild(xxx);
            body.appendChild(spanremove);
            body.appendChild(xxx1);
        }
        membershipclose();
    }
    function cancelselection1() {
        listmember.splice(parseInt(this.id), 1);
        Addmembershiplist1();
    }
    var listmember = [];
    var uniqueNames = [];
    function Addselectedmember(e) {
        debugger
        var dataItem = this.dataItem(e.item.index());
        document.getElementById("memberid").value = dataItem.UserName;
    }
    function Addmembershiplist() {
        debugger

        var x = listmember.length;
        listmember[x] = document.getElementById("memberid").value;
        $.each(listmember, function (i, el) {
            if ($.inArray(el, uniqueNames) === -1) uniqueNames.push(el);
        });
        listmember = [];
        listmember = uniqueNames;
        listmember = listmember.filter(function (element) {
            return element !== "";
        });
        var body = document.getElementById("memberdiv")
        body.innerHTML = "";
        var tbl = document.createElement("table");
        var tblBody = document.createElement("tbody");
        for (var i = 0; i < listmember.length; i++) {
            var row = document.createElement("tr");
            row.className = "div_row";

            ///round
            var cell2 = document.createElement("td");
            var celldiv = document.createElement("div");
            celldiv.className = "round_div";
            var celldivspan = document.createElement("span");
            celldivspan.style.position = 'relative';
            celldivspan.style.top = '4px';
            var spanbody = document.createTextNode(listmember[i].charAt(0));
            celldivspan.appendChild(spanbody);
            celldiv.appendChild(celldivspan);
            cell2.appendChild(celldiv);

            ////name
            var cell1 = document.createElement("td");
            cell1.style.width = "250px";
            var x = document.createTextNode(listmember[i]);
            cell1.appendChild(x);
            ////x
            var cell = document.createElement("td");
            cell.style.width = "250px";
            var xx = document.createTextNode("x");
            var span1 = document.createElement("span");
            span1.onclick = cancelselection;
            span1.id = i;
            span1.appendChild(xx);
            // span1.style.cu
            cell.appendChild(span1);
            row.appendChild(cell2);
            row.appendChild(cell1);
            row.appendChild(cell);
            tblBody.appendChild(row);
        }

        tbl.appendChild(tblBody);
        body.appendChild(tbl);
    }
    function cancelselection() {
        debugger;
        listmember.splice(parseInt(this.id), 1);
        var body = document.getElementById("memberdiv")
        body.innerHTML = "";
        var tbl = document.createElement("table");
        var tblBody = document.createElement("tbody");
        for (var i = 0; i < listmember.length; i++) {
            var row = document.createElement("tr");
            row.className = "div_row";
            ///round
            var cell2 = document.createElement("td");
            var celldiv = document.createElement("div");
            celldiv.className = "round_div";
            var celldivspan = document.createElement("span");
            celldivspan.style.position = 'relative';
            celldivspan.style.top = '4px';
            var spanbody = document.createTextNode(listmember[i].charAt(0));
            celldivspan.appendChild(spanbody);
            celldiv.appendChild(celldivspan);
            cell2.appendChild(celldiv);

            ////name
            var cell1 = document.createElement("td");
            cell1.style.width = "250px";
            var x = document.createTextNode(listmember[i]);
            cell1.appendChild(x);
            ////x
            var cell = document.createElement("td");
            cell.style.width = "250px";
            var xx = document.createTextNode("x");
            var span1 = document.createElement("span");
            span1.onclick = cancelselection;
            span1.id = i;
            span1.appendChild(xx);
            // span1.style.cu
            cell.appendChild(span1);
            row.appendChild(cell2);
            row.appendChild(cell1);
            row.appendChild(cell);
            tblBody.appendChild(row);
        }

        tbl.appendChild(tblBody);
        body.appendChild(tbl);
    }

</script>
<style>
    .round_div {
        border-style: none;
        border-radius: 50%;
        height: 24px;
        width: 24px;
        text-align: center;
        background-color: #f2c288;
        text-transform: uppercase;
        margin-right: 10px;
    }

    .div_row {
        background-color: white;
        height: 35px;
    }

        .div_row:hover {
            background-color: #cbdbf7;
            height: 35px;
        }

    .centered {
        position: absolute;
        top: 84%;
        left: 112%;
        transform: translate(-50%, -50%);
    }
</style>
@*Addmembership end*@

@*anita srt*@
<style>
    #Mobile-dropdown .k-dropdown-wrap {
        border-width: 0px !important;
        border-style: solid !important;
        padding: 0 0 0 0 !important;
        width: 50px;
        margin-left: 2px;
    }

    #Mobile-dropdown .k-input {
        height: 22px !important;
        border: 1px solid #dbdbdb;
        margin-top: 3px;
        margin-left: 0px;
        width: 50px;
    }

    .mob-zone .k-input {
        border: none !important;
    }

    .mob-zone .k-dropdown-wrap {
        height: 27px;
        width: 89% !important;
    }

    #Mobile-dropdown .k-animation-container .k-list-container, #MobilenoPrefix-list {
        width: 50px !important;
    }
    /*#Mobile-dropdown .k-select{    right: -25px;}*/
</style>

<div id="UserAdd" class="flyout-sm  flyout ember-view cssdivclose popup-styl2" style="display:none">
    <div class="overlayPopUp" style="display:none;">

    </div>
    @*<div class="loaderAddPopUp" style="display:none;" >
            <img src="~/Images/spinning-loading-bar.gif" />
        </div>*@
    @*<div id="divLoader" class="k-modal-overlay" style="display:none;">
            <img src="~/images/ajax-loader.gif" alt="Loader" />
        </div>*@
    <div class="modal-content modal-css">
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 popup-topbar" style="">
                <div class="row main">
                    <div class="profile-upload">
                        <img id="haddimg" alt="ss" style="margin-top:6px;" src="https://kenresponse.blob.core.windows.net/marrion/d628defb-7d6b-4c25-962d-214c8261d1b7-.png" class="userupload-img">
                        <div id="haddIcon" class="centered" style="display: none;">
                            <i class="fa fa-camera camera-icon" aria-hidden="true"></i>
                        </div><input type="file" id="addfilesUpload" accept='image/*' style="display: none;" onchange="addfilesUploadclick(this)" />
                    </div>
                    <h4 id="addUsserName" style="">New User</h4>
                    <span id="addemailUser" class="userAddName">
                        @*<i class="fa fa-envelope-o faicon " style=""></i>*@ user@domain.com
                    </span>
                    <span onclick="UserAddClose()" class="updatePaymentDetailsclose click2close" style="">&times;</span>
                </div>
            </div>
        </div>
        <div class="col-md-12 popup-body">
            <div class="row">
                <div class="col-md-6 for-padding-zero">  @(Html.Label("First  Name"))<span class="err-msg">*</span></div>
                <div class="col-md-6 for-padding-zero">  @(Html.Label("Last Name")) <span class="err-msg">*</span></div>
            </div>
            <div class="row">
                <div class="col-md-6 for-padding-zero">
                    @(Html.Kendo().TextBox().Name("AddFirstName").HtmlAttributes(new
                {
                    placeholder = "First  Name",
                    required = "required",
                    //pattern = "^(?!\s*$).?[\w\W]{2,5}",
                    style = "width:100%",
                    maxlength = "40",
                    validationmessage = "Enter FirstName",
                    //@onchange = "ValidateTextbox();"

                }))
                </div>
                <div class="col-md-6 for-padding-zero">
                    @(Html.Kendo().TextBox().Name("addLastName").HtmlAttributes(new
                {
                    placeholder = "Last Name",
                    required = "required",
                    style = "width:98%;float:right;",
                    maxlength = "40",
                    validationmessage = "Enter LastName"
                }))
                </div>
            </div>
            <div class="row">
                @(Html.Label("Display Name")) <span class="k-invalid-msg" data-for="AddDisplayname"></span>
            </div>
            <div class="row">
                @(Html.Kendo().TextBox().Name("AddDisplayname").HtmlAttributes(new
            {
                placeholder = "Display Name",
                style = "width:100%",
            }))
            </div>
            <div class="row">
                @(Html.Label("UserId"))<span class="err-msg">*</span>
            </div>
            <div class="row">
                @(Html.Kendo().TextBox().Name("AddUserId").HtmlAttributes(new
            {
                placeholder = "Email Id",
                required = "required",
                style = "width:100%",
                type = "email",
                validationmessage = "Enter Email Id",
                @onchange = "ValidateEmail();"

            }))
                <label id="txtEmail_validationMessage1" style="display:none;">Mail Id Already Exist</label>
                <label id="txtEmail_validationMessage2" style="display:none;color: red;font-size: 12px;font-family: calibri;">Enter a valid Email Id</label>
            </div>
            <div class="row">
                @(Html.Label("Designation"))
            </div>
            <div class="row">
                @(Html.Kendo().DropDownList()
                        .Name("addDesignation")
                        .DataTextField("Designation_Name")
                        .DataValueField("Designation_Id")
                        .DataSource(s => s.Read("GetDesignationForUserlist", "UserList"))
                        .HtmlAttributes(new { style = "width:100%;border: 1px solid #dbdbdb;" })
                )
            </div>
            <div class="row">
                @(Html.Label("Reports to"))
            </div>
            <div class="row">
                @(Html.Kendo().AutoComplete()
                        .Name("addAuthority")
                        .DataTextField("User_DisplayName")
                        .Placeholder("Reporting Authority")
                        .DataSource(s => s.Read("GetReportingAuthority", "UserList"))
                        .HtmlAttributes(new { style = "width:100%;border: 1px solid #dbdbdb;" })
                )
            </div>
            <div class="headng">Contact Information</div>
            <div class="row">
                @(Html.Label("Mobile")) <span class="err-msg">*</span>
            </div>
            <div class="row">
                <div class="col-md-2 for-padding-zero" id="Mobile-dropdown">
                    @(Html.Kendo().DropDownList()
                    .Name("MobilenoPrefix")
                    .DataTextField("Country_Code")
                    .DataValueField("Country_Id")
                    .OptionLabel("+00")
                    .DataSource(ds => ds.Read("Country", "Signup", new { area = "UserSignup" }))
                    .Events(e =>
                    {
                        e.Select("onSelectCountry_CodeAdd");
                    })
                    .HtmlAttributes(new
                    {
                        tabindex = "6",
                        style = "width:100%;",
                        @class = "mob-zone "
                    }))
                </div>
                <div class="col-md-10 for-padding-zero">
                    @(Html.Kendo().TextBox().Name("addMobile").HtmlAttributes(new
                {
                    //placeholder = "Mobile No",
                    required = "required",
                    style = "width:100%;float: right;",
                    validationmessage = "Enter Mobile No",
                    pattern = "\\d{10}",
                    type = "tel",
                    maxlength = "10",


                    // @onchange = "IsMobileNumber()",
                    //   onkeypress = "return numbersonly(event)"
                }))
                    <label id="addMobile_validationMessage1" style="display:none;">Enter a 10 digit mobile no</label>
                </div>
            </div>
            <div class="row">
                @(Html.Label("Address Line 1"))<span class="err-msg">*</span>
            </div>
            <div class="row">
                @(Html.Kendo().TextBox().Name("addAddress1").HtmlAttributes(new
            {
                //  placeholder = "Address Line 1",
                required = "required",
                style = "width:100%",
                validationmessage = "Enter Address",
                maxlength = "100",

            }))
            </div>
            <div class="row">
                @(Html.Label("Address Line 2"))
            </div>
            <div class="row">
                @(Html.Kendo().TextBox().Name("addAddress2").HtmlAttributes(new
            {
                style = "width:100%",
                maxlength = "50"
            }))
            </div>
            <div class="row">
                <div class="col-md-6 for-padding-zero">
                    @(Html.Label("Country")) <span class="err-msg">*</span>
                    <input id="addCountryHidden" value="" hidden />
                </div>
                <div class="col-md-6 for-padding-zero">
                    @(Html.Label("State"))<span class="err-msg">*</span>
                    <span class="k-invalid-msg" data-for="addState"></span>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6 for-padding-zero">
                    @(Html.Kendo().TextBox().Name("txtCountry")
            .HtmlAttributes(new { style = "width:100%;height: 29px;", required = "required", validationmessage = "Select Mobile Prefix to get Country" }))


                </div>
                <div class="col-md-6 for-padding-zero">
                    @(Html.Kendo().AutoComplete()
                    .Name("txtState")
                    .Filter("contains")
                    .DataTextField("State_Name")
                    .MinLength(1)
                    .Placeholder("State")
                    .DataSource(source =>
                    {
                        source.Read(read =>
                        {
                            read.Action("StateNameBind1", "Signup", new { area = "UserSignup" }).Data("onAdditionalData");
                        })
                        .ServerFiltering(true);
                    })
                    .Events(e =>
                    {
                        e.Select("onSelectStateName");
                    })
                   .HtmlAttributes(new { style = "width:98%;height:22px;border:1px solid #dbdbdb;float:right; " })
                    )
                </div>
            </div>
            <div class="row">
                <div class="col-md-6 for-padding-zero">
                    @(Html.Label("City")) <span class="err-msg">*</span>
                    @*<span class="k-invalid-msg" data-for="addCity"></span>*@
                </div>
                <div class="col-md-6 for-padding-zero">
                    @(Html.Label("Zipcode")) <span class="err-msg">*</span>
                    @*<span class="k-invalid-msg" data-for="addZipcode"></span>*@
                </div>
            </div>
            <div class="row">
                <div class="col-md-6 for-padding-zero">
                    @(Html.Kendo().TextBox().Name("addCity").HtmlAttributes(new
                {
                    //  placeholder = "Address ",
                    required = "required",
                    style = "width:100%",
                    validationmessage = "Enter City",

                }))
                </div>
                <div class="col-md-6 for-padding-zero">
                    @(Html.Kendo().TextBox().Name("addZipcode").HtmlAttributes(new
                {
                    //  placeholder = "Address ",
                    required = "required",
                    style = "width:98%;float: right;",
                    validationmessage = "Enter Zipcode",
                    maxlength = "6"

                }))
                </div>
            </div>
            <div class="headng">Password</div>
            <div class="row">
                <input type="radio" name="rdoAuto" id="rdoAuto2" value="AutoPsw" checked="checked">
                @(Html.Label("Auto generate password"))
            </div>
            <div class="row">
                <div class="col-md-2 for-padding-zero" style="padding-top:4px;">@(Html.Label("Password"))</div>
                <div class="col-md-10 for-padding-zero">
                    @(Html.Kendo().TextBox().Name("addAutoPsw").HtmlAttributes(new
                {
                    //required = "required",
                    style = "width:100%",
                    //  type = "password",
                    //validationmessage = "*",
                    value = @ViewBag.MyString

                }))
                </div>
            </div>
            <div class="row">
                <input type="radio" name="rdoAuto" id="rdoAuto1" value="LetMePsw">
                @(Html.Label("Let me create password"))
            </div>
            <div class="row">
                <div class="row passwordHidden" style="display:none">

                    <div class="row" style="">
                        <div class="row">
                            New password
                        </div>
                        <div class="row">

                            @(Html.Kendo().TextBox().Name("addnewpassword").HtmlAttributes(new
                        {
                            // placeholder = "*********",
                            type = "password",
                            style = "width:100%;",
                            @onkeyup = "onchangeevent1()",

                        }))

                        </div>
                    </div>

                    <div class="row" id="confmsg" style="padding-left:3px;">

                        <div class="row" id="hideChecks" style="display:none">
                            <div style="list-style:none">
                                <img id="chkk1" style="width:15px;height:15px;" src="~/Images/green.png" />
                                <label class="label_">8 or more character</label>
                            </div>
                            <div style="list-style:none"><img id="chkk2" style="width:15px;height:15px;" src="~/Images/green.png" /><label class="label_">at least 1 uppercase</label></div>
                            <div style="list-style:none"> <img id="chkk3" style="width:15px;height:15px;" src="~/Images/green.png" /><label class="label_">at least 1 lowercase</label></div>
                            <div style="list-style:none"> <img id="chkk4" style="width:15px;height:15px;" src="~/Images/green.png" /><label class="label_">at least 1 number</label></div>
                            <div style="list-style:none"> <img id="chkk5" style="width:15px;height:15px;" src="~/Images/green.png" /><label class="label_">at least 1 Symbol</label></div>
                        </div>
                    </div>

                    <div class="row" style="">
                        <div class="row">
                            Retype password
                        </div>
                        <div class="row">

                            @(Html.Kendo().TextBox().Name("addconfirmPsw").HtmlAttributes(new
                        {
                            // placeholder = "*********",
                            type = "password",
                            style = "width:100%;",
                            //@onkeyup = "onchangeevent2()",
                        }))
                            <span class="ValidationForRepwd" style="font-size:12px; color:red;display:none;">Password does not match</span>
                        </div>
                        <div class="row" style="padding: 0;">
                            @*<h6 style="margin: 2px 0px;">You need to provide the same password <a href="#" id="confmpsd" class="k-icon k-i-check-circle" style="margin-right:10px;color: green;"></a></h6>*@
                        </div>

                        <div class="clearfix"></div>
                        <div class="row" style="padding:0px;">
                            <div class="">
                                <input type="checkbox" value="AllowUser" name="AllowUser" style="float:left;" checked />
                                <p style="color:#000;padding-left: 14px;"> Allow the user to change his password after his first login.</p>
                            </div>
                            @*<div class="pull-left" style="color:#337ab7;margin-left:10px;"></div>*@
                            <div class="clearfix"></div>
                        </div>

                    </div>

                </div>
                <div class="clearfix" style="clear:both"></div>
            </div>
            <div class="headng">Assign Role</div>
            <div class="row">
                You can assign To different roles to people in your organization
            </div>
            <div class="row">
                @*@(Html.Kendo().RadioButton().Name("rdoUserGlobCust"))*@
                <input type="radio" name="assignRole" id="user" value="User" checked="checked">
                User(No Adminstrator Access)
            </div>
            <div class="row">
                @*@(Html.Kendo().RadioButton().Name("rdoUserGlobCust2"))*@
                <input type="radio" name="assignRole" id="global" value="Global">
                Global Administartor
            </div>
            <div class="row">

                @*@(Html.Kendo().RadioButton().Name("rdoUserGlobCust3"))*@
                <input type="radio" name="assignRole" id="customized" value="Customized">
                Customized Administartor
            </div>
            <div class="row" style="margin-left: 31px;">
                <div class="CustomizedAdmin" style="display:none">
                    <div class="pull-left">
                        <input type="checkbox" value="PasswordAdmin" name="CustomizedAdmin" />
                    </div>
                    <div class="col-md-8">
                        Password Admin
                    </div>
                    <div class="clearfix"></div>
                    <div class="pull-left">
                        <input type="checkbox" value="BillingAdmin" name="CustomizedAdmin" />
                    </div>
                    <div class="col-md-8">
                        Billing Admin
                    </div>
                    <div class="clearfix"></div>
                    <div class="pull-left">
                        <input type="checkbox" value="UserManagementAdmin" name="CustomizedAdmin" />
                    </div>
                    <div class="col-md-8">
                        User Management Admin
                    </div>
                    <div class="clearfix"></div>
                    <div class="pull-left">
                        <input type="checkbox" value="ServiceAdmin" name="CustomizedAdmin" />
                    </div>
                    <div class="col-md-8">
                        Service Admin
                    </div>
                </div>
            </div><br />
            <div class="row">
                <div class="col-md-4 for-Leftpadding-zero">
                    <button class="k-primary add-btn-prod" type="submit" style="padding: 0;position: relative;" id="btnUserAdd" onclick="btnSave_Click()">
                        Add
                        @*<img id="" src="~/Images/loading.gif" style="width: 100%;position: absolute;top: -27px;left: 24px;" />*@
                        <div id="btnLoader" class="btnLoader" style="top: 28%;font-size: 2px;left: 74%;"></div>
                    </button>
                </div>
                <div class="col-md-4 for-Leftpadding-zero">
                    <button class="k-primary cancel-btn-prod" style="padding-top: 6px;" type="reset" onclick="UserAddClose()">Cancel</button>
                </div>
            </div>
            <br />
        </div>
    </div>
</div>
<script>

    $("#addAutoPsw").attr("readonly", true);
    $("#txtAutoPwd").attr("readonly", true);
    $('#AddFirstName').keyup(function () {
        // $('#AddDisplayname').val(this.value);
        $('#AddDisplayname').val("");
        $('#AddDisplayname').val(this.value + " " + $('#addLastName').val());
    });
    $('#addLastName').keyup(function () {
        $('#AddDisplayname').val("");
        $('#AddDisplayname').val($('#AddFirstName').val() + " " + this.value);
        //fname);
    });
    function onSelectCountry_CodeAdd(e) {
        debugger;
        var dataItem = this.dataItem(e.item);
        var id = dataItem.Country_Id;
        if (id == "") {
            $("#txtCountry").val("");
            //$("#txtMobileNo").val("");
            // VerifyDisableMob();
            $("#addMobile").prop("disabled", true).addClass("k-state-disabled");
            $("#addMobile_validationMessage").hide();

        }
        else {
            //If country code value not 00 then
            $("#addMobile").prop("disabled", false).removeClass("k-state-disabled");
        }


        document.getElementById("countryid").value = dataItem.Country_Id;
        //alert(dataItem.Country_Id);
        $.ajax({
            type: "POST",
            url: "/Signup/CountryNameBind",
            data: { id: id },
            contentType: 'application/x-www-form-urlencoded; charset=UTF-8',
            dataType: "json",
            success: function (data) {
                $("#txtState").val("");
                $("#txtCountry").val(data.Conuntry_Name);

            },
        });
    }

    function onSelectStateName(e) {
        debugger;
        var dataItem = this.dataItem(e.item);
        document.getElementById("stateid").value = dataItem.State_Id;
        var id = $("#countryid").val();
        $.ajax({
            type: "POST",
            url: "/UserSignup/Signup/StateNameBind1",
            data: { id: id },
            contentType: 'application/x-www-form-urlencoded; charset=UTF-8',
            dataType: "json",
            success: function (data) {

            },
        });
    }

    function onAdditionalData() {
        return {
            text: document.getElementById("countryid").value
        };
    }

    var AdduserIdEmailInput = document.getElementById("AddUserId");
    AdduserIdEmailInput.onblur = function (e) {
        debugger;
        var EmailId2 = $("#AddUserId").val();
        var regex = /^[_a-z0-9-]+(\.[_a-z0-9-]+)*@@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/;

        if (!regex.test(EmailId2)) {
            // $("#AddUserId").focus();
            // email.val("");
            //if ($("#AddUserId").val() == "") {
            //    $("#txtEmail_validationMessage").show();
            //    //$("#txtEmail_validationMessage2").hide();
            //}
            //else {
            //    //$("#txtEmail_validationMessage2").show();
            //    $("#txtEmail_validationMessage").show();
            //}

            // return false;
            $("#txtEmail_validationMessage").show();
        }
        else {
            $("#txtEmail_validationMessage2").hide();
            $.ajax({
                type: "POST",
                url: "/UserSignup/Signup/EmailChecking",
                data: { toEmail: $('#AddUserId').val() },
                datatype: "json",
                cache: false,
                success: function (result) {
                    if (result == 0) {
                        $("#txtEmail_validationMessage1").hide();
                    }
                    else if (result == 1) {
                        $("#txtEmail_validationMessage1").show();
                    }
                }
            });
            return true;
        }

    }
    function IsMobileNumber() {
        debugger

        //var MobileNo = $("#txtMobileNo");
        if ($("#addMobile").length != 10) {

            $("#addMobile_validationMessage1").show();
            return false;
        }
        else {
            $("#addMobile_validationMessage1").hide();
            return true;
        }

        // var mob = /^[1-9]{1}[0-9]{9}$/;
        //var mob = /^([0-9]{10})$/;
        //var txtMobile = document.getElementById(Mobile);
        //if (mob.test(txtMobile)) {
        //    //alert("Please enter valid mobile number.");
        //    //txtMobile.focus();
        //    //return false;
        //    alert("Valid");
        //}else{
        //    alert("In Valid");
        //}

    }
    //pattern = "^(?!\s*$).?[\w\W]{2,5}"
    //function ValidateTextbox() {
    //    var textbox = document.getElementById('AddFirstName').value;
    //    var regex ="^\S+$";
    //    if (regex.test(textbox)) {

    //    }
    //    else {
    //        return;
    //    }

    //}
    $('#AddFirstName').keypress(function (e) {
        var regex = new RegExp("^[a-zA-Z]+$");
        var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
        if (regex.test(str)) {
            return true;
        }

        e.preventDefault();
        return false;
    });
    var con = document.getElementById("addCountry");
    debugger;
    if (document.getElementById("addCountryHidden").value == null) {
        con.onblur = function () {
            document.getElementById("addCountry").value = "";
        }

    }
    $('#addLastName').keypress(function (e) {
        var regex = new RegExp("^[a-zA-Z]+$");
        var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
        if (regex.test(str)) {
            var data = $(this).val();
            $("#AddDisplayname").text(data);
            return true;
        }


        e.preventDefault();
        return false;
    });
    $('#addMobile').keypress(function (e) {
        var regex = new RegExp("^[0-9]+$");
        var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
        if (regex.test(str)) {
            return true;
        }
        e.preventDefault();
        return false;
    });
    $('#AddUserId').on('keypress', function (e) {
        if (e.which == 32)
            return false;
    });
    $('#AddUserId').keyup(function () {
        $(this).val($(this).val().toLowerCase());
    });
    $('#addZipcode').keypress(function (e) {
        var regex = new RegExp("^[0-9]+$");
        var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
        if (regex.test(str)) {
            return true;
        }
        e.preventDefault();
        return false;
    });
    //$('#AddUserId').keypress(function (e) {
    //    var regex = /^[_a-z0-9-]+(\.[_a-z0-9-]+)*@@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/;
    //    var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
    //    if (regex.test(str)) {
    //        return true;
    //    }
    //    e.preventDefault();
    //    return false;
    //});

    //$("#AddFirstName").keyup(function (e) {
    //    debugger;
    //    var $this = $(this);
    //    window.setTimeout(function () {
    //        $("#AddDisplayname").text($this.val());
    //    }, 0);
    //    //var stt = $(this).val();
    //    //$("div").text(stt);
    //});
    //$('#addMobile').mouseout(function (e) {
    //})
    function ValidateEmail() {
        debugger;
        var email = document.getElementById('AddUserId').value;
        var reg = /^[_a-z0-9-]+(\.[_a-z0-9-]+)*@@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/;
        var element = document.getElementById('AddUserId');

        if (!reg.test(email)) {
            $("#AddUserId").focus();
            $("#AddUserId").val("");
            return false;
        }
        else {

            return true;
        }
    }
    $("#AddUserId").bind("paste", function (e) {
        $("#txtEmail_validationMessage2").hide();
        $("#txtEmail_validationMessage1").hide();
    });

    $(document).ready(function () {
        // debugger;


        $("#listHs1").hide();
        $("#listHs2").hide();

        $('.click-action').click(function (e) {
            $(".action-taken").slideToggle(200);
            e.stopPropagation();
            $(".action-view").hide();
        });

        $('.click-action1').click(function (e) {
            $(".action-view").slideToggle(200);
            e.stopPropagation();
            $(".action-taken").hide();
        });
        //$(document).click(function () {
        //   // debugger
        //    $(".cssdivclose").hide();
        // //   $(".action-view").hide();

        //});
        $("input[name=rdoAuto]:radio").change(function () {
            // debugger;

            if (this.value == 'LetMePsw') {
                //alert("LetMe Success");

                $(".passwordHidden").css("display", "block");
                $(".autopsw").css("display", "none");
                //$("input[type=submit] ").attr("disabled", "disabled");
                $(':input[type="submit"]').prop('disabled', true);

                $("#chkk1").hide();
                $("#chkk2").hide();
                $("#chkk3").hide();
                $("#chkk4").hide();
                $("#chkk5").hide();
                $("#confmpsd").hide();

            }
            else {
                $(".passwordHidden").css("display", "none");
                $(".autopsw").css("display", "block");
                $(':input[type="submit"]').prop('disabled', false);
            }


        })

        $('#addconfirmPsw').blur(function () {
            debugger;
            var hh = $('#addnewpassword').val();
            var hh2 = $('#addconfirmPsw').val();
            if (hh == "" && hh2 == "") {
                $("#confmpsd").hide();
                //$(".ValidationForRepwd").hide();
            }
            if (hh == hh2 && hh != "" && hh2 != "") {
                $("#confmpsd").show();
                $(".ValidationForRepwd").hide();
                $(':input[type="submit"]').prop('disabled', false);
                $('#btnUserAdd').prop('disabled', false);
                //$(':input[type="button"]').prop('disabled', false);

            } else {
                //alert("Confirm Password not matched");
                // document.getElementById("addconfirmPsw").value = null;
                $("#confmpsd").hide();
                $(".ValidationForRepwd").show();
                $('#btnUserAdd').prop('disabled', true);


            }
        })
        $("input[name=assignRole]:radio").change(function () {
            // debugger;
            if (this.value == 'Customized') {
                $(".CustomizedAdmin").css("display", "block");
            }
            else {
                $(".CustomizedAdmin").css("display", "none");
            }
        })


        //  $('input[name="documnetAutocomplete1"').prop('placeholder', "Server.HtmlDecode('&#xf002;')&'find your school'");
    });
    function onchangeevent1() {
        debugger;


        var pass = $('#addnewpassword').val();


        var upper = 0;
        var lower = 0;
        var sym = 0;
        var num = 0;
        for (var i = 0; i < pass.length; i++) {
            var va = pass.charCodeAt(i);
            if (64 < va && va < 91) {
                upper++;
            }
            else if (96 < va && va < 123) {
                lower++;
            }
            else if (47 < va && va < 58) {
                num++;
            }
            else if (34 < va && va < 39 || va == 64) {
                sym++;
            }
        }
        if (pass.length > 7) {
            $("#chkk1").show();
        }
        else {
            $("#chkk1").hide();
        }
        if (upper > 0) {
            $("#chkk2").show();
        }
        else {
            $("#chkk2").hide();
        }
        if (lower > 0) {
            $("#chkk3").show();
        }
        else {
            $("#chkk3").hide();
        }
        if (num > 0) {
            $("#chkk4").show();
        }
        else {
            $("#chkk4").hide();
        }
        if (sym > 0) {
            $("#chkk5").show();
        }
        else {
            $("#chkk5").hide();
        }
        if (pass.length > 7 && upper > 0 && lower > 0 && num > 0 && sym > 0) {
            $("#hideChecks").hide();

        }
        else {
            if (pass == "") {

                document.getElementById("hideChecks").style.display = "none";
            } else {
                $("#hideChecks").show();
                $('#btnUserAdd').prop('disabled', true);
            }

        }




        var hh = $('#addnewpassword').val();
        var hh2 = $('#addconfirmPsw').val();
        if (hh == hh2 && hh != "" && hh2 != "") {
            $("#confmpsd").show();
            $(".ValidationForRepwd").hide();
            $(':input[type="submit"]').prop('disabled', false);
            $('#btnUserAdd').prop('disabled', false);
            //$(':input[type="button"]').prop('disabled', false);

        } else if (hh != hh2 && hh != "" && hh2 != "") {
            //alert("Confirm Password not matched");
            //document.getElementById("addconfirmPsw").value = null;
            $("#confmpsd").hide();
            $(".ValidationForRepwd").show();
            $('#btnUserAdd').prop('disabled', true);


        }
    }
    //var button1 = document.getElementById("rdoAuto2");
    //var button2 = document.getElementById("rdoAuto1");
    //if (button2.checked) {
    //    debugger;k
    //    document.getElementById("addnewpassword").value = "";
    //    document.getElementById("addconfirmPsw").value = "";
    //}
    $("input[name=rdoAuto]:radio").change(function () {

        if ($("#rdoAuto1").prop("checked") == true) {
            debugger
            document.getElementById("addnewpassword").value = "";
            document.getElementById("addconfirmPsw").value = "";
            $(".ValidationForRepwd").hide();
            document.getElementById("hideChecks").style.display = "none";
        }
    })
    function ImportUserclick() {
        $(".cssdivclose").hide();
        var multuser = document.getElementById("multipleuser");
        multuser.style.display = "block";
    }
    function closemultiuserclick() {
        var multuser = document.getElementById("multipleuser");
        multuser.style.display = "none";
    }
    //function ResetPswddlclick() {
    //    debugger;
    //    var reset = document.getElementById("resetpassword");
    //    reset.style.display = "block";
    //}
    function closeresetpasswordclick() {
        var reset = document.getElementById("resetpassword");
        reset.style.display = "none";
    }
    function openadduser() {
        debugger;
        // OpenEditUser();
        //var a = $('txtAddDomain').val();  //document.getElementById("txtAddDomain").value
        //var a = $('#txtAddDomain').data('text')
        //alert(a);
        $(".cssdivclose").hide();
        var reset = document.getElementById("UserAdd");
        reset.style.display = "block";
        $("#haddIcon").show();
        $("")
        $("#txtCountry").prop("disabled", true).addClass("k-state-disabled");
        resetadd();
    }

    function resetadd() {
        $("#AddFirstName").val("");
        $('#haddimg').attr('src', 'https://kenresponse.blob.core.windows.net/marrion/d628defb-7d6b-4c25-962d-214c8261d1b7-.png');
        $("#addLastName").val("");
        $("#AddDisplayname").val("");
        $("#AddUserId").val("");
        //ddlDomain: $("#txtAddDomain").val(),
        //  Designation: $("#hiddenDesignation").val(),
        $("#addAuthority").val("");
        $("#addMobile").val("");
        $("#addAddress1").val("");
        $("#addAddress2").val("");
        $("#addStateHidden").val("");
        $("#addCity").val("");
        $("#addCountryHidden").val("");
        $("#addZipcode").val("");
        $("#rdoAuto2").prop("checked", true);
        $(".passwordHidden").hide();
        $(".btnLoader").hide();
        $("#addnewpassword").val("");
        $("#addconfirmPsw").val("");
        $("#User").prop("checked", true);
        $("#txtState").val("");
        $("#MobilenoPrefix").data("kendoDropDownList").value(-1);
        $("#addDesignation").data("kendoDropDownList").value(1);
        $("#AddFirstName_validationMessage").hide();
        $("#addMobile").prop("disabled", true).addClass("k-state-disabled");
        $("#addLastName_validationMessage").hide();

        $("#AddUserId_validationMessage").hide();
        $("#addMobile_validationMessage").hide();
        $("#addAddress1_validationMessage").hide();
        $("#addCity_validationMessage").hide();
        $("#addZipcode_validationMessage").hide();
        var reset = document.getElementById("btnLoader");
        reset.style.display = "none";
        $(".ValidationForRepwd").hide();
        //.k-widget.k-tooltip
        // $("#UserAdd").hide();
    }

    function UserAddClose() {
        var reset = document.getElementById("UserAdd");
        reset.style.display = "none";
        resetadd();
    }
    function btnSave_Click() {

        debugger;
        $(".btnLoader").show();
        // $('#btnUserAdd').prop('disabled', true);
        var MobileNo = $("#txtMobileNo").val();
        //debugger;
        var password;
        var validator = $("#UserAdd").kendoValidator().data("kendoValidator");
        if (validator.validate()) {
            // ........  password
            var value = $('input[name=rdoAuto]:checked').val();
            if (value == "LetMePsw") {
                var tstpaswval = document.getElementById("addnewpassword").value;
                var ctxtpswval = document.getElementById("addconfirmPsw").value;
                if (tstpaswval != 0 || ctxtpswval != 0) {
                    password = tstpaswval;
                }
                else {


                }

            }
            if (value == "AutoPsw") {
                password = document.getElementById("addAutoPsw").value
            }
            ////.........password
            var rolearray = [];
            var role = $("input[name=assignRole]:checked").val();
            if (role == "Customized") {
                $.each($("input[name='CustomizedAdmin']:checked"), function () {
                    rolearray.push($(this).val());
                });
            } else {
                rolearray = null;
            }
            // $("input[type=submit]").attr("disabled", "disabled");
            document.getElementById("UserAdd").disabled = true;
            var fName = $("#AddFirstName").val();
            var lName = $("#addLastName").val();
            var dName = $("#AddDisplayname").val();
            var eMail = $("#AddUserId").val();
            //$(".overlayPopUp").show();
            //$(".loaderAddPopUp").show();
            var reset = document.getElementById("btnLoader");
            reset.style.display = "block";
            //document.getElementById("btnUserAdd").disabled = true;
            $.ajax({
                type: "POST",
                url: "/UserList/Createuser",
                // data: JSON.stringify(employee),
                data: {
                    FirstName: $("#AddFirstName").val(),
                    LastName: $("#addLastName").val(),
                    Displayname: $("#AddDisplayname").val(),
                    UserId: $("#AddUserId").val(),
                    //ddlDomain: $("#txtAddDomain").val(),
                    Designation: $("#addDesignation").val(),
                    Authority: $("#addAuthority").val(),
                    Mobile: $("#addMobile").val(),
                    Address1: $("#addAddress1").val(),
                    Address2: $("#addAddress2").val(),
                    State: $("#stateid").val(),
                    City: $("#addCity").val(),
                    Country: $("#countryid").val(),
                    Zipcode: $("#addZipcode").val(),
                    assignRole: role,
                    Rolearray: rolearray,
                    password: password,

                },
                //   contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (response) {
                    // debugger;
                    var reset = document.getElementById("UserAdd");
                    reset.style.display = "none";
                    var reset = document.getElementById("addUserConform");
                    reset.style.display = "block";
                    $("#txtConUsername").html(fName + " " + lName);
                    $("#txtConDisplayName").html(dName);
                    $("#txtConUserId").html(eMail);
                    $("#txtConPassword").html(password);
                    $("#txtNewmailId").val(eMail);
                    // .userConformImg
                    $('#userConformImg').attr('src', 'https://kenresponse.blob.core.windows.net/marrion/d628defb-7d6b-4c25-962d-214c8261d1b7-.png');
                    $("#userConformName").html(fName + " " + lName);
                    $("#userConformMail").html(eMail);
                    var viewvalue = document.getElementById("diffView").value;
                    if (viewvalue == "detail") {
                        myFunction21();
                    }
                    else {
                        myFunction31();
                    }

                    //$("#addAuthority").kendoAutoComplete();
                    //var autocomplete = $("#addAuthority").data("kendoAutoComplete");
                    //autocomplete.refresh();


                    //$("#listView11").data("kendoListView").dataSource.read();
                },
                //failure: function (response) {
                //    alert(response.responseText);
                //},
                //error: function (response) {
                //    alert(response.responseText);
                //}
            });
            $("#listView11").data("kendoListView").dataSource.read();

        }
        else {
            $(".btnLoader").hide();

        }
    }
    function ShowAddUserData() {
        debugger
        var validator = $("#UserAdd").kendoValidator().data("kendoValidator");
        //  $("#< validatorElement > span.k-tooltip-validation").hide();
        validator.hideMessages();
        $("#AddFirstName").val("");
        $("#addLastName").val("");
        $("#AddDisplayname").val("");
        $("#AddUserId").val("");

        $("#addAuthority").val("");
        $("#addMobile").val("");
        $("#addAddress1").val("");
        $("#addAddress2").val("");
        $("#addState").val("");
        $("#addCity").val("");
        $("#addCountry").val("");
        $("#addZipcode").val("");
        $.ajax({
            type: "POST",
            url: "/UserList/ShowAddUserData",
            //data: { id: id },
            contentType: 'application/x-www-form-urlencoded; charset=UTF-8',
            dataType: "json",
            success: function (data) {
                debugger;
                $(".userAddImg").attr("src", data[0].Uplaod_ImageURL);
                document.getElementById("addUsserName").innerHTML = data[0].User_First_Name + " " + data[0].User_Last_Name;

                document.getElementById("addemailUser").innerHTML = data[0].User_EmailId;
            },
            error: function () {

            }
        });

    }

    // change event for designation autocomplete
    function DesignationSelect(e) {
        //debugger;
        var DataItem = this.dataItem(e.item.index()).Designation_Id;
        //$("#Login_User_ID").val(DataItem.id);
        document.getElementById("hiddenDesignation").value = DataItem;
    }
    function AuthoritySelect(e) {
        // debugger;
        var DataItem = this.dataItem(e.item.index()).ReportingAuthorityId;
        //$("#Login_User_ID").val(DataItem.id);
        document.getElementById("hiddenDesignation").value = DataItem;
    }

</script>
@*anita end*@
@*EditUser srt Anita*@
<style>
    .edit-user-hd {
        color: #088dc1;
        padding: 0 0 8px 0px;
        border-bottom: 1px solid #ccc;
        margin-bottom: 4px;
        font-size: 14px;
    }

    .multiUserNext:hover {
        background-color: cornflowerblue;
    }
</style>
<div id="EditUser" class="flyout-sm  flyout ember-view popup-styl2" style="display:none">
    <div class="modal-content modal-css">
        <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12 popup-topbar" style="">
                <div class="row main">
                    <div class="profile-upload">
                        <img id="hEditgroupimg" alt="ss" style="margin-top:6px; " src="https://kenresponse.blob.core.windows.net/marrion/d628defb-7d6b-4c25-962d-214c8261d1b7-.png" class="userupload-img">
                        <div id="hEditIcon" class="centered" style="display: none;">
                            <i class="fa fa-camera camera-icon" aria-hidden="true"></i>
                        </div>
                        <input type="file" id="editfilesUpload" accept='image/*' style="display: none;" onchange="editfilesUploadclick(this)" />
                    </div>
                    <h4 id="topE_username" style="">Amiley Burrow</h4>
                    <span id="topE_useremil" class="userAddName">
                        @*<i class="fa fa-envelope-o faicon " style=""></i>*@ amileyburrow45@dolna.co
                    </span>
                    <span onclick="EditUserclose()" class="updatePaymentDetailsclose click2close" style="">&times;</span>
                </div>
            </div>
        </div>
        <div class="col-md-12 popup-body">
            <div class="row">
                @(Html.Label("Name of the User"))<span class="k-invalid-msg" data-for="editFirstName"></span>
            </div>
            <div class="row">
                @(Html.Kendo().TextBox().Name("editFirstName").HtmlAttributes(new
            {
                placeholder = "First  Name",
                required = "required",
                style = "width:100%",
                validationmessage = "*"

            }))
            </div>
            <div class="row">
                @(Html.Label("Display Name"))<span class="k-invalid-msg" data-for="editDisplayName"></span>
            </div>
            <div class="row">
                @(Html.Kendo().TextBox().Name("editDisplayName").HtmlAttributes(new
            {
                placeholder = "Display Name",
                required = "required",
                style = "width:100%",
                validationmessage = "*"
            }))
            </div>
            <div class="row">
                @(Html.Label("UserId"))
            </div>
            <div class="row">
                @*@Html.Label("editUserId1")*@
                <p class="k-textbox Edit-id" id="editUserId1" style="margin-bottom: 2px;border: 1px solid #dbdbdb; width: 100%;padding: 5px 3px;"> </p>
            </div>
            <div class="row">
                @(Html.Label("Sign in Status"))<span class="k-invalid-msg" data-for="editSigninStatus"></span>
            </div>
            <div class="row">
                @(Html.Kendo().DropDownList()
                    .Name("editSigninStatus")
                        .BindTo(new List<SelectListItem>() {
                                  new SelectListItem() {
                                     Text = "Allowed",
                                     Value = "1"
                                 },
                                  new SelectListItem() {
                                     Text = "Blocked",
                                     Value = "2"
                                 },

                             })
                        .HtmlAttributes(new { required = "", style = "width:100%;", validationmessage = "*" })
                )

            </div>
            <div class="row">
                @(Html.Label("Reports to"))<span class="k-invalid-msg" data-for="editReportingAuthority"></span>
            </div>
            <div class="row">
                @(Html.Kendo().DropDownList()
                        .Name("editReportingAuthority")
                        .Filter("startswith")
                        .DataValueField("User_RegistrationId")
                        .DataTextField("User_DisplayName")

                                         .DataSource(s => s.Read("GetReportingAuthority", "UserList"))

                                 .HtmlAttributes(new { required = "", validationmessage = "*", style = "width:100% " })

                )
            </div>
            <div class="headng">Contact Information</div>
            <div class="row">
                @(Html.Label("Mobile"))<span class="k-invalid-msg" data-for="editMobile"></span>
            </div>
            <div class="row">
                @(Html.Kendo().TextBox().Name("editMobile").HtmlAttributes(new
            {
                placeholder = "Mobile No",
                required = "required",
                style = "width:100%",
                validationmessage = "*",
                maxlength = "12",
                //   onkeypress = "return numbersonly(event)"
            }))
            </div>
            <div class="row">
                @(Html.Label("Address Line 1"))<span class="k-invalid-msg" data-for="editAddress1"></span>
            </div>
            <div class="row">
                @(Html.Kendo().TextBox().Name("editAddress1").HtmlAttributes(new
            {
                //  placeholder = "Address Line 1",
                required = "required",
                style = "width:100%",
                validationmessage = "*",

            }))
            </div>
            <div class="row">
                @(Html.Label(" Address Line 2"))
            </div>
            <div class="row">
                @(Html.Kendo().TextBox().Name("editAddress2").HtmlAttributes(new
            {
                //  placeholder = "Address ",
                //  required = "required",
                style = "width:100%",
                //  validationmessage = "*",

            }))
            </div>
            <div class="row">
                @(Html.Label(" Country"))<span class="k-invalid-msg" data-for="editCountry"></span>
                <input id="editCountryHidden" value="" hidden />
            </div>
            <div class="row">
                @(Html.Kendo().DropDownList()
                    .Name("editCountry")
                    .Filter("startswith")
                    .DataValueField("Country_Id")
                    .DataTextField("Country_Name")

                    .Events(e =>
                    {
                        e.Change("onSelectCountryNameedit");
                    })
                    .DataSource(source => source.Read("Country", "Signup", new { area = "UserSignup" }))
                    .HtmlAttributes(new { style = "width:100%;", required = "required", validationmessage = "*" })
                )
                @*@(Html.Kendo().TextBox().Name("editCountry").HtmlAttributes(new
                    {
                        //  placeholder = "Address ",
                        required = "required",
                        style = "width:100%",
                        validationmessage = "*",

                    }))*@
            </div>
            <div class="row">
                @(Html.Label(" State"))
                <input id="editStateHidden" value="" hidden />
            </div>
            <div class="row">
                @*@(Html.Kendo().TextBox().Name("editState").HtmlAttributes(new
                    {
                        //  placeholder = "Address ",
                        required = "required",
                        style = "width:100%",
                        validationmessage = "*",

                    }))*@
                @(Html.Kendo().DropDownList()
                        .Name("editState")
                        .Filter("contains")
                          .DataValueField("State_Id")
                        .DataTextField("State_Name")
                        .MinLength(1)
                         //.Placeholder("State")
                         //.DataSource(source => source.Read("StateNameBind1", "Signup"))
                         .DataSource(source =>
                         {
                             source.Read(read =>
                             {
                                 read.Action("StateNameBind1", "UserList").Data("onAdditionalDataedit");
                             })
                             .ServerFiltering(true);
                         })
                        .Events(e =>
                        {
                            e.Select("onSelectStateNameedit");
                        })

                        .HtmlAttributes(new { style = "width:100%;font-size: 11px;font-family: 'Segoe UI';color:#504c4ce3;", required = "required", validationmessage = "*" })
                )
            </div>
            <div class="row">
                @(Html.Label(" City"))<span class="k-invalid-msg" data-for="editCity"></span>
            </div>
            <div class="row">
                @(Html.Kendo().TextBox().Name("editCity").HtmlAttributes(new
            {
                //  placeholder = "Address ",
                required = "required",
                style = "width:43%",
                validationmessage = "*",

            }))
                Zipcode@(Html.Kendo().TextBox().Name("editZipcode").HtmlAttributes(new
                   {
                       //  placeholder = "Address ",
                       required = "required",
                       style = "width:27%;margin-left: 3px;",
                       validationmessage = "*",
                       maxlength = "6",

                   }))<span class="k-invalid-msg" data-for="editZipcode"></span>
            </div>
            <div class="headng">Group Memberships</div>
            <div class="row">
                <div class="col-md-8 for-padding">

                    <div id="addmembership_div" style="font-size: 12px;"></div>
                </div>
                <div class="col-md-4 for-padding text-right"><a href="javascript:void(0);" onclick="OpenmembershipPopup()">+Add Membership</a></div>
            </div>
            <div class="headng">Product License</div>
            <div>
                <p>
                    kensource Standard License &nbsp;<a>Remove License </a>
                </p>
                <p>
                    kencampus Lower function License &nbsp;<a>Remove License </a>
                </p>
            </div>

            <div class="headng">Assign Roles</div>
            <p>You can assign different roles to people in your organisation</p>
            <div class="form-group">
                <table>
                    <tr>
                        <td>
                            <input type="radio" name="editRoles" id="engine1" value="User" checked="checked">
                            <label for="engine1">User (no administrator access)</label>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <input type="radio" name="editRoles" value="Global" id="engine2">
                            <label for="engine2">Global administrator</label>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <input type="radio" name="editRoles" value="Customized" id="engine3">
                            <label for="engine3">Customized administrator</label>
                        </td>
                    </tr>

                </table>
            </div>
            <div class="row" style="margin-left: 1.4em;margin-top: -10px;">
                <div class="customizeedit" style="display:none">
                    <div class="pull-left">
                        <input type="checkbox" value="PasswordAdmin" id="editPasswordAdmin" name="CustomizedAdmin1" />
                    </div>
                    <div class="col-md-8">
                        Password Admin
                    </div>
                    <div class="clearfix"></div>
                    <div class="pull-left">
                        <input type="checkbox" value="BillingAdmin" id="editBilling " name="CustomizedAdmin1" />
                    </div>
                    <div class="col-md-8">
                        Billing Admin
                    </div>
                    <div class="clearfix"></div>
                    <div class="pull-left">
                        <input type="checkbox" value="UserManagementAdmin" id="editUserManagement" name="CustomizedAdmin1" />
                    </div>
                    <div class="col-md-8">
                        User Management Admin
                    </div>
                    <div class="clearfix"></div>
                    <div class="pull-left">
                        <input type="checkbox" value="ServiceAdmin" id="editServiceAdmin" name="CustomizedAdmin1" />
                    </div>
                    <div class="col-md-8">
                        Service Admin
                    </div>
                </div>
            </div>
            <div class="clearfix hyt10"></div>
            <div class="row">
                <div class="col-md-4 for-Leftpadding-zero">
                    <button class="k-primary add-btn-prod" type="submit" style="" id="btneditUser" onclick="updateEdituserclick()">Save</button>
                </div>
                <div class="col-md-4 for-Leftpadding-zero">
                    <button class="k-primary cancel-btn-prod" type="reset" style="" onclick="CancelEdituserclick()">Cancel</button>
                </div>
            </div>
            <br />
            <div class="clearfix hyt10"></div>
        </div>



        <div class="clearfix" style="margin-bottom:10px"></div>
        <input type="hidden" id="countryid" name="user" value="0">
        <input type="hidden" id="stateid" name="user" value="0">
    </div>
</div>











<script>
    $('#editFirstName').keyup(function () {
        $('#editDisplayName').val($('#editFirstName').val());
    });
    $("#haddimg").click(function () {
        //  alert("hbh")
        $("#addfilesUpload").click();
    });
    $("#haddIcon").click(function () {
        //  alert("hbh")
        $("#addfilesUpload").click();
    });

    function addfilesUploadclick(e) {
        debugger
        var files = e.files;
        var fileData = new FormData();
        for (var i = 0; i < files.length; i++) {
            fileData.append(files[i].name, files[i]);
        }
        if (e.files && e.files[0]) {
            var reader = new FileReader();
            reader.onload = function (e) {
                $('#haddimg').attr('src', e.target.result);
                $("#haddIcon").hide();
            }
            reader.readAsDataURL(e.files[0]);
        }
        $.ajax({
            url: '/UserList/UploadFiles',
            type: "POST",
            contentType: false, // Not to set any content header
            processData: false, // Not to process data

            async: false,
            cache: false,
            data: fileData,
            success: function (result) {
            },
            error: function (err) {
            }
        });


    }


    $("#hEditgroupimg").click(function () {
        $("#editfilesUpload").click();
    });
    function editfilesUploadclick(e) {
        debugger
        var files = e.files;
        var fileData = new FormData();
        for (var i = 0; i < files.length; i++) {
            fileData.append(files[i].name, files[i]);
        }
        if (e.files && e.files[0]) {
            var reader = new FileReader();
            reader.onload = function (e) {
                $('#hEditgroupimg').attr('src', e.target.result);
                $("#hEditIcon").hide();
            }
            reader.readAsDataURL(e.files[0]);
        }
        $.ajax({
            url: '/UserList/UploadFiles',
            type: "POST",
            contentType: false, // Not to set any content header
            processData: false, // Not to process data

            async: false,
            cache: false,
            data: fileData,
            success: function (result) {
                //  alert(result);
            },
            error: function (err) {
                alert(err.statusText);
            }
        });


    }
    function onSelectCountryNameedit(e) {
        var dataItem = this.dataItem(e.item);
        document.getElementById("editCountryHidden").value = dataItem.Country_Id;
        var id = dataItem.Country_Id;
        if (id != 0) {
            debugger;
            $.ajax({
                type: "POST",
                url: "/UserList/StateNameBind1",
                data: { id: id },
                contentType: 'application/x-www-form-urlencoded; charset=UTF-8',
                dataType: "json",
                success: function (data) {
                },
                error: function () {
                    // document.getElementById("addCountryHidden").value = "";
                }
            });
        }
        else {
            debugger;
            $('#editCountry').val('');
            _clear.className = "k-icon k-i-close";
        }
    }
    function onSelectStateNameedit(e) {
        debugger;
        // alert("sdgsdfg");
        var dataItem = this.dataItem(e.item);
        document.getElementById("editStateHidden").value = dataItem.State_Id;
    }
    function onAdditionalDataedit() {
        return {
            text: document.getElementById("editCountryHidden").value
        };
    }


    $('#editMobile').keypress(function (e) {
        debugger
        var regex = new RegExp("^[0-9]+$");
        var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
        if (regex.test(str)) {
            return true;
        }
        e.preventDefault();
        return false;
    });
    $('#editZipcode').keypress(function (e) {
        debugger
        var regex = new RegExp("^[0-9]+$");
        var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
        if (regex.test(str)) {
            return true;
        }
        e.preventDefault();
        return false;
    });
    function CancelEdituserclick() {
        var validator = $("#EditUser").kendoValidator().data("kendoValidator");
        validator.hideMessages();
        OpenEditUser();

    }
    $("input[name=editRoles]:radio").change(function () {
        // debugger;
        if ($("#engine3").prop("checked") == true) {
            //  alert("Checkbox is checked.");
            $(".customizeedit").show();
        } else {
            $(".customizeedit").hide();
        }
    })
    function OpenEditUser() {
        debugger;
        $("#engine1").prop("checked", false);
        $("#engine2").prop("checked", false);
        $("#engine3").prop("checked", false);
        $("#hEditIcon").show();
        var viewvalue = document.getElementById("diffView").value;
        var id = $("#hiddenUserListId").val();
        var ids = $("#hiddenRegId").val();
        var data;
        if (viewvalue == "detail") {
            var listview = $("#listView11").data("kendoListView");
            data = listview.dataSource._data[id];
        }
        else if (viewvalue == "card") {
            var listview1 = $("#listView12").data("kendoListView");
            data = listview1.dataSource._data[id];
        } else if (viewvalue == "grid") {

            data = $("#BindGridUsingRead").data("kendoGrid").dataSource.get(id);
        }
        $("#hEditgroupimg").attr("src", data.Uplaod_ImageURL);
        //  $("#hEditgroupimg").html(data.User_First_Name + " " + data.User_Last_Name);
        $("#topE_username").html(data.User_First_Name + " " + data.User_Last_Name);
        $("#topE_useremil").html(data.User_EmailId);
        $("#editFirstName").val(data.User_First_Name + " " + data.User_Last_Name);
        // $("#editLastName").val(data.User_Last_Name);
        $("#editDisplayName").val(data.User_DisplayName);
        $("#editUserId1").html(data.User_EmailId);
        // $('#editUserId1').val(data.User_EmailId);
        // $("#editDesignation").val(data.User_JobTitle);
        //  $("#editSigninStatus").val(data.Login_User_Status);
        var dropdownlist = $("#editSigninStatus").data("kendoDropDownList");
        var status = data.Login_User_Status;
        if (status == "False") {
            //  $("#editSigninStatus").text("Active");

            dropdownlist.text("Blocked");

        }
        else {
            dropdownlist.text("Allowed");
        }
        $("#editReportingAuthority").val(data.ReportingAuthorityId);
        $("#editMobile").val(data.User_MobileNo);
        $("#editAddress1").val(data.User_OfficeLocation);
        $("#editAddress2").val(data.User_OfficeLocation);

        $("#editCity").val(data.User_CityName);
        $("#editState").val(data.State_Id);
        document.getElementById("editCountryHidden").value = data.Country_Id;

        $("#editState").val(data.State_Id).data("kendoDropDownList").value(data.State_Id);

        $("#editCountry").val(data.Country_Id);
        $("#editZipcode").val(data.User_ZipCode);
        //data.IsUserNoAdminstratorAccess
        $("#engine1").prop("checked", data.IsUserNoAdminstratorAccess);
        $("#engine2").prop("checked", data.IsGlobalAdminStrator);
        $("#engine3").prop("checked", data.IsCustomizedAdminStrator);


        if ($("#engine3").prop("checked") == true) {
            //  alert("Checkbox is checked.");
            $(".customizeedit").show();
            if (data.Check_IsPasswordAdmin == true) {
                $("#editPasswordAdmin").prop("checked", true);
            }
            else {
                $("#editPasswordAdmin").prop("checked", false);
            }

            if (data.Check_IsBillingAdmin == true) {
                $("#editBilling").prop("checked", true)
            }
            else {
                $("#editBilling").prop("checked", false)
            }
            if (data.Check_UserManagementAdmin == true) {
                $("#editUserManagement").prop("checked", true)
            }
            else {

                $("#editUserManagement").prop("checked", false)
            }
            if (data.Check_ServiceAdmin == true) {
                $("#editServiceAdmin").prop("checked", true)
            }
            else {
                $("#editServiceAdmin").prop("checked", false)
            }


        } else {
            $(".customizeedit").hide();
            $("#editPasswordAdmin").prop("checked", false);
            $("#editBilling").prop("checked", false)
            $("#editUserManagement").prop("checked", false)
            $("#editServiceAdmin").prop("checked", false)
        }
        $(".cssdivclose").hide();
        var reset = document.getElementById("EditUser");
        reset.style.display = "block";
        $.ajax({
            type: "POST",
            url: "/UserList/usergroup",
            data: {
                idd: ids
            },
            dataType: "json",

            success: function (data) {
                debugger
                listmember = data
                var body = document.getElementById("addmembership_div")
                body.innerHTML = "";

                for (var i = 0; i < listmember.length; i++) {
                    var spanremove = document.createElement("span");
                    spanremove.onclick = cancelselection1;
                    spanremove.id = i;
                    spanremove.innerHTML = ' x';
                    var xxx = document.createTextNode(listmember[i]);
                    var xxx1 = document.createTextNode(" ,");
                    body.appendChild(xxx);
                    body.appendChild(spanremove);
                    body.appendChild(xxx1);
                }
            }
        });
    }
    function EditUserclose() {
        var reset = document.getElementById("EditUser");
        reset.style.display = "none";
        var reset = document.getElementById("UserDetails");
        reset.style.display = "block";

    }
    function updateEdituserclick() {
        debugger
        var validator = $("#EditUser").kendoValidator().data("kendoValidator");
        if (validator.validate()) {
            var rolearray = [];
            var listmember111 = [];
            var role = $("input[name=editRoles]:checked").val();
            if (role == "Customized") {
                $.each($("input[name='CustomizedAdmin1']:checked"), function () {
                    rolearray.push($(this).val());
                });
            } else {
                rolearray = null;
            }
            if (listmember.length > 0) {
                listmember111 = listmember
            }
            else {
                listmember111[0] = "0";
            }
            $.ajax({
                type: "POST",
                url: "/UserList/Updateuser",
                data: {
                    id: $("#hiddenUserId").val(),
                    FirstName: $("#editFirstName").val(),
                    //  LastName: $("#editLastName").val(),
                    Displayname: $("#editDisplayName").val(),
                    UserId: $("#editUserId1").text(),   //document.getElementById('editUserId1').val(),

                    ddlDomain: $("#editUserId").val(),
                    Designation: $("#editDesignation").val(),
                    Authority: $("#editReportingAuthority").val(),
                    Mobile: $("#editMobile").val(),
                    Address1: $("#editAddress1").val(),
                    Address2: $("#editAddress2").val(),
                    assignRole: role,
                    Rolearray: rolearray,
                    State: $("#editState").val(),
                    City: $("#editCity").val(),
                    Country: $("#editCountry").val(),
                    Zipcode: $("#editZipcode").val(),
                    Grouplist: listmember111,


                },
                dataType: "json",
                // contentType: 'application/x-www-form-urlencoded; charset=UTF-8',
                success: function (response) {
                    debugger
                    var reset = document.getElementById("EditUser");
                    reset.style.display = "none";
                    var viewvalue = document.getElementById("diffView").value;
                    if (viewvalue == "detail") {
                        myFunction21();
                    }
                    else {
                        myFunction31();
                    }
                }
            });
            $("#listView11").data("kendoListView").dataSource.read();
        }

    }
    function OpenmembershipPopup() {
        $(".cssdivclose").hide();
        var reset = document.getElementById("Addmembership");
        reset.style.display = "block";
        var div = document.getElementById("memberdiv");
        div.innerHTML = "";
        if (listmember.length > 0) {
            Addmembershiplist();
        }
    }
    function membershipclose() {
        var reset = document.getElementById("Addmembership");
        reset.style.display = "none";
        var reset1 = document.getElementById("EditUser");
        reset1.style.display = "block";
    }
    $('#editFirstName').keypress(function (e) {
        var regex = new RegExp("^[a-zA-Z]+$");
        var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
        if (regex.test(str)) {
            return true;
        }

        e.preventDefault();
        return false;
    });
</script>
@*EditUser end*@@*EditUser end*@
<style>
    #txtEmail_validationMessage1 {
        color: #ab1111;
        font-weight: normal;
        font-size: 11px;
    }
</style>


@*Start Add User Conformation Page*@
<div id="addUserConform" class="flyout-sm  flyout ember-view cssdivclose" style="display:none; width:408px">
    <div class="flyout-side ">
        <div class="userpopupclass" style="width: 408px;">
            <span class="glyphicon glyphicon-remove" id="addUserConformClose" style="margin-left:375px;color:white; cursor:pointer;" onclick="closeAddUserConformClick()">
            </span>
            <div class="row">
                <div class="col-md-9 main for-padding" style="margin-top: -46px;">
                    <div class="col-md-2" style="padding: 1px 0px 0px 0px;">
                        <img alt="ss" src="" class="userAddImg" style="margin-left: 16px;" id="userConformImg">
                    </div>
                    <div class="col-md-10" style="padding: 4px 0px 0px 22px;">
                        <p class="userdetailname" id="userConformName"></p>
                        <i class="fa fa-envelope-o" style="font-size:11px;color:#fff;"></i>
                        <span class="userAddName" id="userConformMail"></span>

                    </div>
                </div>
            </div>
        </div>
        <div>
            <p style="font-family:Calibri;font-size:16px;margin-top: 34px; font-weight:600; margin-left:20px;height: 32px;color:grey">User was added</p>
        </div>
        <div style="font-family:Calibri;font-size:13px;color:black;margin-left: 23px;margin-top: 8px;">
            <div class="row" style="margin-bottom:6px;">
                <div class="col-md-4">
                    User name
                </div>
                <div id="txtConUsername" class="col-md-6">
                </div>
            </div>
            <div class="row" style="margin-bottom:6px;">
                <div class="col-md-4">
                    Display name
                </div>
                <div id="txtConDisplayName" class="col-md-6">
                </div>
            </div>
            <div class="row" style="margin-bottom:6px;">
                <div class="col-md-4">
                    User id
                </div>
                <div id="txtConUserId" class="col-md-6">
                </div>
            </div>
            <div class="row" style="margin-bottom:14px;">
                <div class="col-md-4">
                    Password
                </div>
                <div id="txtConPassword" class="col-md-6">
                </div>
            </div>
            <div class="row" style="margin-bottom:3px;">
                <div class="col-md-10" style="margin-bottom:5px;">
                    Email the new password to the following receipient
                </div>
            </div>
            <div class="row">
                <div class="col-md-10">
                    @Html.Kendo().TextBox().Name("txtNewmailId").HtmlAttributes(new { style = "height: 25px;font-size:13px;width: 100%;margin-bottom:24px; " })
                </div>
            </div>
        </div>

        <div class="row" style="margin-top: 8px;margin-left: 39px;">

            @(Html.Kendo().Button()
        .Name("btnSendMailToNew")
        .HtmlAttributes(new { type = "button", @class = "k-primary multiUserNext", style = "width: 103px;font-size: 15px;", })
        .Content("Send Email")
        .Events(ev => ev.Click("SendMailAtConf"))
            )


        </div>


    </div>
</div>
<script>
    function SendMailAtConf() {
        var email = $("#txtNewmailId").val();
        var password = $("#txtConPassword").html();
        $.ajax({
            type: "POST",
            url: "/UserList/MailSend",
            data: { "maildata": email, "password": password },
            dataType: "json",
            success: function (data1) {
                var viewvalue = document.getElementById("diffView").value
                $("#addUserConform").hide();
            },
            error: function () {
                // alert("deactive user unsucessful");
            }
        });
    }
</script>
@*End Add User Conformation Page*@
